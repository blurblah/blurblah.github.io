"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[61813],{47862:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=t(74848),s=t(28453);const r={title:"Kubernetes with AWS API gateway",date:"2018-08-14",categories:["devops"],tags:["alb","aws-api-gateway","ingress","kubernetes","loadbalancer","nlb","nodeport","vpc-link","\uc678\ubd80-\uc811\uadfc"]},i=void 0,l={permalink:"/2018/08/14/wp/kubernetes-with-aws-api-gateway",source:"@site/blog/wp/2018-08-14-kubernetes-with-aws-api-gateway.md",title:"Kubernetes with AWS API gateway",description:"Docker container + AWS API gateway\ub85c \uac1c\ubc1c\ud658\uacbd\uc774 \uad6c\uc131\ub418\uc5b4 \uc788\ub294 \uc0c1\ud0dc\uc5d0\uc11c Kubernetes \ub3c4\uc785\uc744 \uac80\ud1a0\ud558\uac8c \ub418\uc5c8\ub2e4. Image build\ub098 \ubc30\ud3ec\ub97c \uc704\ud574 Jenkins\uc640 Ansible\uc744 \uc774\uc6a9\ud558\uace0 \uc788\uae30\ub294 \ud588\uc9c0\ub9cc \uc6d0\ub798\uc758 \uad6c\uc131\uc774\ub77c\uba74 \ubc30\ud3ec\ub098 \ubc30\ud3ec \ud6c4\uc758 \uc791\uc5c5\ub4e4\uc774 \ubc88\uac70\ub86d\uae30\ub3c4 \ud558\uace0 \ubc30\ud3ec\uc758 \ud3b8\uc758\uc131\uc774\ub098 \uc720\uc5f0\ud568\uacfc\ub294 \uac70\ub9ac\uac00 \uba40\ub2e4\uace0 \ub290\uaef4\uc84c\uae30 \ub54c\ubb38\uc774\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uac19\uc740 \uae30\ub2a5\uc744 \uac16\ub294 backend service\uac00 \uac00\uc6a9\uc131\uc744 \uc704\ud574 \uc5ec\ub7ec\uac1c \ub5a0\uc788\ub2e4\uace0 \uac00\uc815\ud588\uc744 \ub54c update\ub97c \uc9c4\ud589\ud55c\ub2e4 \uc0dd\uac01\ud558\uba74 \uae30\uc874\uc758 \ubc29\uc2dd\uc73c\ub85c\ub294 \uba38\ub9ac\uac00 \uc544\ud50c \uac83\uc774 \ubd84\uba85\ud558\ub2e4.",date:"2018-08-14T00:00:00.000Z",formattedDate:"August 14, 2018",tags:[{label:"alb",permalink:"/tags/alb"},{label:"aws-api-gateway",permalink:"/tags/aws-api-gateway"},{label:"ingress",permalink:"/tags/ingress"},{label:"kubernetes",permalink:"/tags/kubernetes"},{label:"loadbalancer",permalink:"/tags/loadbalancer"},{label:"nlb",permalink:"/tags/nlb"},{label:"nodeport",permalink:"/tags/nodeport"},{label:"vpc-link",permalink:"/tags/vpc-link"},{label:"\uc678\ubd80-\uc811\uadfc",permalink:"/tags/\uc678\ubd80-\uc811\uadfc"}],readingTime:8.945,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Kubernetes with AWS API gateway",date:"2018-08-14",categories:["devops"],tags:["alb","aws-api-gateway","ingress","kubernetes","loadbalancer","nlb","nodeport","vpc-link","\uc678\ubd80-\uc811\uadfc"]},unlisted:!1,prevItem:{title:"Kubernetes\uc5d0\uc11c \ud2b9\uc815 node\uc5d0 pod\uac00 \ubc30\ud3ec\ub418\ub294 \ud604\uc0c1\uc5d0 \ub300\ud55c \ubd84\uc11d",permalink:"/2020/01/20/wp/kubernetes\uc5d0\uc11c-\ud2b9\uc815-node\uc5d0-pod\uac00-\ubc30\ud3ec\ub418\ub294-\ud604\uc0c1\uc5d0-\ub300\ud55c-\ubd84\uc11d"},nextItem:{title:"\ub0a0\uc528 \uc815\ubcf4\ub97c \ud3b8\ud558\uac8c \ubc1b\uc544\ubcfc\uae4c \ud574\uc11c \uc2dc\uc791\ud55c \uc77c\ub4e4",permalink:"/2018/06/09/wp/\ub0a0\uc528-\uc815\ubcf4\ub97c-\ud3b8\ud558\uac8c-\ubc1b\uc544\ubcfc\uae4c-\ud574\uc11c-\uc2dc\uc791\ud55c-\uc77c\ub4e4"}},p={authorsImageUrls:[]},c=[{value:"AWS API gateway\uc758 \ud2b9\uc9d5",id:"aws-api-gateway\uc758-\ud2b9\uc9d5",level:3},{value:"External access to Kubernetes",id:"external-access-to-kubernetes",level:3},{value:"AWS API gateway\uc640 \uc5f0\uacb0\ud558\ub824\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ud558\ub098?",id:"aws-api-gateway\uc640-\uc5f0\uacb0\ud558\ub824\uba74-\uc5b4\ub5bb\uac8c-\ud574\uc57c\ud558\ub098",level:3}];function o(e){const a={a:"a",h3:"h3",img:"img",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.p,{children:"Docker container + AWS API gateway\ub85c \uac1c\ubc1c\ud658\uacbd\uc774 \uad6c\uc131\ub418\uc5b4 \uc788\ub294 \uc0c1\ud0dc\uc5d0\uc11c Kubernetes \ub3c4\uc785\uc744 \uac80\ud1a0\ud558\uac8c \ub418\uc5c8\ub2e4. Image build\ub098 \ubc30\ud3ec\ub97c \uc704\ud574 Jenkins\uc640 Ansible\uc744 \uc774\uc6a9\ud558\uace0 \uc788\uae30\ub294 \ud588\uc9c0\ub9cc \uc6d0\ub798\uc758 \uad6c\uc131\uc774\ub77c\uba74 \ubc30\ud3ec\ub098 \ubc30\ud3ec \ud6c4\uc758 \uc791\uc5c5\ub4e4\uc774 \ubc88\uac70\ub86d\uae30\ub3c4 \ud558\uace0 \ubc30\ud3ec\uc758 \ud3b8\uc758\uc131\uc774\ub098 \uc720\uc5f0\ud568\uacfc\ub294 \uac70\ub9ac\uac00 \uba40\ub2e4\uace0 \ub290\uaef4\uc84c\uae30 \ub54c\ubb38\uc774\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uac19\uc740 \uae30\ub2a5\uc744 \uac16\ub294 backend service\uac00 \uac00\uc6a9\uc131\uc744 \uc704\ud574 \uc5ec\ub7ec\uac1c \ub5a0\uc788\ub2e4\uace0 \uac00\uc815\ud588\uc744 \ub54c update\ub97c \uc9c4\ud589\ud55c\ub2e4 \uc0dd\uac01\ud558\uba74 \uae30\uc874\uc758 \ubc29\uc2dd\uc73c\ub85c\ub294 \uba38\ub9ac\uac00 \uc544\ud50c \uac83\uc774 \ubd84\uba85\ud558\ub2e4."}),"\n",(0,n.jsx)(a.h3,{id:"aws-api-gateway\uc758-\ud2b9\uc9d5",children:"AWS API gateway\uc758 \ud2b9\uc9d5"}),"\n",(0,n.jsx)(a.p,{children:"Kubernetes\ub97c \ub3c4\uc785\ud558\uae30 \uc804\uc5d0 AWS API gateway\uc744 \uc0b4\ud3b4\ubcf4\uc9c0 \uc54a\uc744 \uc218 \uc5c6\ub294\uac8c API gateway\uc640 service\uc758 \uc5f0\uacb0 \uce21\uba74\uc5d0\uc11c managed service \ub85c\uc11c\uc758 \ud2b9\uc9d5\uc774 \uc874\uc7ac\ud558\uae30 \ub54c\ubb38\uc774\ub2e4. \uc5b4\uca4c\uba74 \uae30\uc874\uc5d0 \uc0ac\uc6a9\ud558\ub358 AWS API gateway\ub97c \uacc4\uc18d \uc720\uc9c0\ud574\uc57c \ud560 \uac83 \uac19\ub2e4\ub294 \uc0dd\uac01\uc774 \uac15\ud558\uac8c \ub4e4\uc5b4\uc11c \uc774 \ubaa8\ub4e0\uac8c \ubcf5\uc7a1\ud574\uc9c4 \uac83\uc77c\uc9c0\ub3c4 \ubaa8\ub974\uaca0\ub2e4. AWS API gateway\ub294 \ud558\uc704 \uc11c\ube44\uc2a4\ub4e4\uacfc\uc758 \uc5f0\uacb0 \ubc29\uc2dd\uc73c\ub85c Lambda, AWS service, HTTP, VPC link\ub97c \uc81c\uacf5\ud558\uace0 \uc788\ub2e4. (Mock\ub3c4 \uc788\uc9c0\ub9cc \uc81c\uc678) \uc77c\ubc18\uc801\uc778 API gateway\ucc98\ub7fc HTTP \uc5f0\uacb0\uc740 \uae30\ubcf8\uc73c\ub85c \ub418\uc5b4\uc57c \ud558\ub294 \uac83\uc778\ub370 AWS API gateway\ub294 \ucd5c\uadfc\uc5d0 \ub098\uc628 private endpoint\ub97c \ud1b5\ud55c \uc678\ubd80 \uc778\ud130\ub137\uc73c\ub85c\ubd80\ud130\uc758 \uc5f0\uacb0 \uc81c\ud55c\uc744 \uc81c\uc678\ud558\uace0\ub294 public\uc73c\ub85c \uc624\ud508\ub418\uc5b4 \uc788\uae30 \ub54c\ubb38\uc5d0 HTTP\ub97c \ud1b5\ud574 \ud558\uc704 \uc11c\ube44\uc2a4\uc640 \uc5f0\uacb0\ud558\ub824\uba74 \uc11c\ube44\uc2a4 \uc5ed\uc2dc public\uc774\uc5b4\uc57c \ud55c\ub2e4\ub294 \uc81c\uc57d\uc774 \ubc1c\uc0dd\ud55c\ub2e4. \uadf8\ub807\ub2e4\uba74 private subnet\uc5d0 \uc788\ub294 \uc11c\ube44\uc2a4\uc640\ub294 \uc5f0\uacb0\uc774 \ubd88\uac00\ub2a5\ud55c \uac83\uc77c\uae4c? \uc774\ub7f0 \uacbd\uc6b0\ub97c \uc704\ud574 VPC link \ub77c\ub294 \uac83\uc744 \uc81c\uacf5\ud558\uace0 \uc788\ub2e4. VPC link\ub294 \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc \ud2b9\uc815 VPC\ub0b4\uc5d0 NLB\ub97c \ub450\uace0 NLB\uac00 VPC \ub0b4\uc758 target group\uc744 \uc124\uc815\ud568\uc73c\ub85c\uc368(public\uc774\ub4e0 private\uc774\ub4e0 \uad00\uacc4\uc5c6\uc74c) API gateway\uc640\uc758 \uc5f0\uacb0\uc744 \ub9cc\ub4e4 \uc218 \uc788\ub3c4\ub85d \ub418\uc5b4\uc788\ub2e4."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/api-gateway-vpc-link.png",children:(0,n.jsx)(a.img,{src:t(95302).A+"",width:"707",height:"463"})})}),"\n",(0,n.jsx)(a.h3,{id:"external-access-to-kubernetes",children:"External access to Kubernetes"}),"\n",(0,n.jsx)(a.p,{children:"\uae30\uc874\uc5d0\ub294 \uc704\uc758 \uadf8\ub9bc\ucc98\ub7fc container\ub4e4\uc774 \uc62c\ub77c\uac00\uc788\ub294 instance \ub4e4\uc744 target group\uc73c\ub85c \uc9c0\uc815\ud574\uc11c \uc5f0\uacb0\ud588\uc5c8\ub294\ub370 Kubernetes\ub97c \ub3c4\uc785\ud55c\ub2e4\uba74 \uc5f0\uacb0 \ub300\uc0c1\uc774 Kubernetes \ub0b4\uc758 service \ub4e4\uc774 \ub420 \uac83\uc774\ub2e4. \uadf8\ub7ec\ubbc0\ub85c \uc5ed\uc2dc Kubernetes\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc678\ubd80 \uc811\uadfc\ubc29\uc2dd\uc5d0 \ub300\ud574 \ub530\uc838\ubcf4\uc544\uc57c\ub9cc \ud55c\ub2e4. Kubernetes\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc678\ubd80 \uc811\uadfc\ubc29\uc2dd\uc740 proxy\ub97c \uc81c\uc678\ud558\uace0 \ud06c\uac8c \uc138\uac00\uc9c0\ub85c \ubcfc \uc218 \uc788\uc744 \uac83\uc774\ub2e4."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"1. NodePort"})}),"\n",(0,n.jsx)(a.p,{children:"\uac00\uc7a5 \uae30\ubcf8\uc73c\ub85c \uc11c\ube44\uc2a4\ub97c \uc678\ubd80\uc5d0 \ub178\ucd9c\uc2dc\ud0ac \uc218 \uc788\ub294 \ubc29\ubc95\uc73c\ub85c \uc11c\ube44\uc2a4\uac00 \uc62c\ub77c\uac04 host\uc758 port\ub97c \ud1b5\ud574 \uc811\uadfc\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4. Cluster\ub97c \uad6c\uc131\ud558\ub294 \ubaa8\ub4e0 worker node\uc5d0\ub294 kube-proxy\ub77c\ub294 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc874\uc7ac\ud558\uace0 kube-proxy\ub294 cluster \ub0b4\uc758 \uc11c\ube44\uc2a4\uac00 \ub9e4\ud551\ub41c port \uc815\ubcf4 \ub4f1\uc744 \uacf5\uc720\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc5b4\ub5a4 node\ub97c \ud1b5\ud558\ub354\ub77c\ub3c4 \ub3d9\uc77c\ud55c port\ub85c \ub3d9\uc77c\ud55c \uc11c\ube44\uc2a4\uc5d0 \uc811\uadfc\uc774 \uac00\ub2a5\ud558\ub2e4. Cluster\ub97c \uad6c\uc131\ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc744 \uc81c\uc678\ud558\uace0 \uc11c\ube44\uc2a4\uc758 \uc5f0\uacb0 \uce21\uba74\uc5d0\uc11c\ub9cc \ubc14\ub77c\ubcf8\ub2e4\uba74 \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc \ubb18\uc0ac\ud560 \uc218 \uc788\uc744 \uac83 \uac19\ub2e4."}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-nodeport.png",children:(0,n.jsx)(a.img,{src:t(98726).A+"",width:"516",height:"825"})}),(0,n.jsx)(a.strong,{children:"2. LoadBalancer"})]}),"\n",(0,n.jsx)(a.p,{children:"Cluster\uc5d0 service\ub97c \ubc30\ud3ec\ud560 \ub54c LoadBalancer type\uc744 \uc9c0\uc815\ud558\uac8c \ub418\uba74 LB\uae4c\uc9c0 \uc790\ub3d9\uc73c\ub85c \uad6c\uc131\ub41c\ub2e4. (kops \uae30\uc900) \uc790\ub3d9 \uad6c\uc131\ub418\ub294 \ub0b4\uc6a9\ub4e4\uc744 \uc0b4\ud3b4\ubcf4\uba74 \uc774 \ubc29\uc2dd\ub3c4 \uc11c\ube44\uc2a4\ub97c host\uc758 \ud2b9\uc815 port\uc640 \ub9e4\ud551\ud558\uace0 \ud574\ub2f9 port \uc815\ubcf4\ub97c LB\ub85c \ubb36\uac8c \ub41c\ub2e4. LB\ub294 \uae30\ubcf8\uc73c\ub85c Classic ELB\uac00 \uc62c\ub77c\uac00\uac8c \ub418\uc9c0\ub9cc AWS \ud658\uacbd\uc774\ub77c\uba74 option\uc73c\ub85c NLB\ub97c \uc120\ud0dd\ud560 \uc218\ub3c4 \uc788\ub2e4. \ub2e4\ub9cc Classic ELB\ub4e0 NLB\ub4e0 \ubc30\ud3ec\ud560 \uacbd\uc6b0 service\ub2f9 \ud558\ub098\uc758 LB\uac00 \ud560\ub2f9\ub41c\ub2e4."}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-loadbalancer.png",children:(0,n.jsx)(a.img,{src:t(73465).A+"",width:"684",height:"912"})}),"\uc774 \ubd80\ubd84\uc5d0\uc11c \uace0\ubbfc\uc744 \uc880 \ud574\ubd10\uc57c \ud558\ub294\ub370, \uc544\ubb34\ub9ac \ubb3c\ub9ac\uc801\uc778 LB\ub97c \ub4e4\uc774\ub294 \uac83\ubcf4\ub2e4 \uc800\ub834\ud558\uace0 \uc804\ubc18\uc801\uc73c\ub85c \uac00\uaca9\uc774 \ub9ce\uc774 \ub0b4\ub824\uac14\ub2e4\uace0 \ud558\ub354\ub77c\ub3c4 \uc11c\ube44\uc2a4 \ub2f9 LB\ub97c \ud558\ub098\uc529 \ub123\uc5b4\uc57c \ud558\ub294 \uac83\uc740 \ubb38\uc81c\uac00 \ub420 \uc218 \uc788\ub2e4\uace0 \ubcf8\ub2e4. LB\ub97c \ud1b5\ud55c \uc678\ubd80\uc640\uc758 \uc5f0\uacb0\uc744 \ud574\uc57c\ud55c\ub2e4\uba74 \ub178\ucd9c\ud560 \uc11c\ube44\uc2a4\uc758 \uac2f\uc218\ub97c \uc904\uc774\ub358\uac00 \uc544\uc608 \ub2e4\ub978 \ubc29\uc2dd\uc744 \ucc3e\uc544\uc57c\ub9cc \ud55c\ub2e4."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"3. Ingress"})}),"\n",(0,n.jsx)(a.p,{children:"Ingress\ub294 LoadBalancer type\uacfc\ub294 \ub2e4\ub974\uac8c \uc5ec\ub7ec \uc11c\ube44\uc2a4\ub97c \ud558\ub098\uc758 \ucef4\ud3ec\ub10c\ud2b8\ub85c \uc678\ubd80\uc5d0 \ub178\ucd9c\uc2dc\ud0ac \uc218 \uc788\ub2e4. \uc124\uc815\uc744 \ud1b5\ud574 \ud2b9\uc815 \ub3c4\uba54\uc778\uacfc \uc11c\ube44\uc2a4\ub97c \uc5f0\uacb0\ud558\uac70\ub098 path\ub97c \ud1b5\ud574 \uc11c\ube44\uc2a4 \ubd84\uae30\uac00 \uac00\ub2a5\ud558\ub2e4. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 \uc5ec\ub7ec\uac1c\uc758 \uc11c\ube44\uc2a4\ub97c \ud558\ub098\uc758 Ingress\ub9cc\uc73c\ub85c \uc811\uadfc \uac00\ub2a5\ud558\uac8c \ud560 \uc218 \uc788\uace0 \ubd80\uac00\uc801\uc73c\ub85c cluster \uc678\ubd80\uc5d0 ALB\ub97c \ub450\uace0 \uc678\ubd80\ub85c\ubd80\ud130\uc758 \uc811\uadfc\uc744 \uac00\ub2a5\ud558\uac8c \ud560 \uc218 \uc788\ub2e4."}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-ingress.png",children:(0,n.jsx)(a.img,{src:t(62574).A+"",width:"754",height:"912"})}),"Ingress\uc5d0 NLB\ub97c \ubd99\uc77c \uc218 \uc5c6\uac8c \ub418\uc5b4\uc788\ub294\ub370, NLB\ub294 TCP\ub85c \ud2b9\uc815 port\ub97c \uac00\uc9c4 target\uc744 \ub300\uc0c1\uc73c\ub85c \ub85c\ub4dc\ubc38\ub7f0\uc2f1\uc744 \ud558\ub3c4\ub85d \ub418\uc5b4\uc788\uace0, Ingress\ub97c \uc704\ud574 \uc0ac\uc6a9\ub418\ub294 ALB\ub294 HTTP\ub97c \ud1b5\ud574 \ubc38\ub7f0\uc2f1\ud558\uace0 path \uc9c0\uc815 \ub4f1\uc774 \uac00\ub2a5\ud558\uae30 \ub54c\ubb38\uc5d0 \uc0ac\uc2e4 Ingress\uc5d0\ub294 ALB\uac00 \uac00\uc7a5 \uc801\ud569\ud558\ub2e4\uace0 \ubcfc \uc218 \uc788\uaca0\ub2e4."]}),"\n",(0,n.jsx)(a.h3,{id:"aws-api-gateway\uc640-\uc5f0\uacb0\ud558\ub824\uba74-\uc5b4\ub5bb\uac8c-\ud574\uc57c\ud558\ub098",children:"AWS API gateway\uc640 \uc5f0\uacb0\ud558\ub824\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c\ud558\ub098?"}),"\n",(0,n.jsx)(a.p,{children:"AWS API gateway\uc5d0\uc11c \uc81c\uacf5\ub418\ub294 \uc5f0\uacb0 \ubc29\uc2dd \uc911 \ud558\ub098\ub97c \uc0ac\uc6a9\ud574\uc57c\ub9cc \ud558\ubbc0\ub85c Lambda, HTTP, VPC link\ub97c \uac00\uc9c0\uace0 \uc0dd\uac01\ud574\uc57c\ub9cc \ud55c\ub2e4. \uc774 \uc911 Lambda\ub97c \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 \uc804\uccb4 \uc11c\ube44\uc2a4 \uad6c\uc131\uc0c1 \ud558\ub098\uc758 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub354 \ud1b5\ud574\uc57c \ud558\ubbc0\ub85c \uc9c0\uc5f0\uc758 \ubb38\uc81c\uac00 \ucd94\uac00\ub85c \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \ud638\ucd9c\uc5d0 \ub530\ub978 \ube44\uc6a9\ubb38\uc81c\ub3c4 \uace0\ub824\ud574\uc57c \ud55c\ub2e4. HTTP\ub85c \ubb36\uac8c \ub420 \uacbd\uc6b0 Kubernetes cluster \uc804\uccb4\uac00 public\uc73c\ub85c \uc62c\ub77c\uc624\ub358\uac00 ALB\ub9cc \uc678\ubd80\uc5d0 \ub178\ucd9c\uc2dc\ud0a4\ub294 \ubc29\ubc95\uc744 \uc0dd\uac01\ud574 \ubcfc \uc218 \uc788\uc744 \uac83 \uac19\ub2e4. \ud558\uc9c0\ub9cc \uc774 \uacbd\uc6b0 \uc678\ubd80\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5\ud55c \uacbd\ub85c\uc5d0 ALB\uac00 \ucd94\uac00\ub418\uae30 \ub54c\ubb38\uc5d0 ACL \uac19\uc740 \uac78 \uc801\uc6a9\ud574\uc11c API gateway\ub97c \ud1b5\ud574\uc11c\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uba74 \uc88b\uc740\ub370 \ubc29\ubc95\uc774 \uc5c6\uc5b4 \ubcf4\uc778\ub2e4."}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-ingress-api-gateway.png",children:(0,n.jsx)(a.img,{src:t(83016).A+"",width:"641",height:"680"})}),"VPC link\ub97c \ud1b5\ud55c\ub2e4\uba74 \uc804\uccb4 cluster\ub97c private subnet\uc5d0 \ub123\uc5b4\uc11c \ubcf4\ub2e4 \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\uc744 \uac83 \uac19\uc740\ub370 \uc704\uc5d0\uc11c \uae30\uc220\ud55c \uac83\ucc98\ub7fc VPC link\ub294 NLB\ub9cc \uc9c0\uc6d0\ud558\uace0, \uc11c\ube44\uc2a4\ub97c \uc790\ub3d9\uc73c\ub85c \ubc30\ud3ec\ud560 \uacbd\uc6b0 \uc11c\ube44\uc2a4 \ub2f9 NLB\uac00 \ud558\ub098\uc529 \ubd99\uac8c \ub418\uae30\ub54c\ubb38\uc5d0 \ube44\uc6a9 \uce21\uba74\uc5d0\uc11c \uc88b\uc740 \ubc29\ubc95\uc740 \uc544\ub2cc \uac83 \uac19\ub2e4. \uac1c\uc778\uc801\uc73c\ub85c\ub294 API gateway\ub97c \uaf2d \uc0ac\uc6a9\ud574\uc57c\ub9cc \ud55c\ub2e4\uba74 AWS API gateway \ub300\uc2e0 \ub2e4\ub978 API gateway\ub97c \uc0ac\uc6a9\ud574\uc11c Kubernetes cluster \ub0b4\ubd80\uc5d0 \ub123\uc5b4\ubc84\ub9ac\ub294\uac8c \uac00\uc7a5 \uc88b\uc740 \ubc29\ubc95\uc774 \ub420 \uac70\ub77c\uace0 \uc0dd\uac01\ud558\uace0 \uc788\ub2e4. \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc \ub418\uba74 \ub418\uc9c0 \uc54a\uc744\uae4c?"]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-internal-api-gateway.png",children:(0,n.jsx)(a.img,{src:t(22714).A+"",width:"621",height:"716"})}),"\ud558\uc9c0\ub9cc AWS API gateway\ub97c \uaf2d \uc0ac\uc6a9\ud574\uc57c\ub9cc \ud55c\ub2e4\uba74 (\uadf8\ub798\uc11c \uc774\ub7f0 \uace0\ubbfc\ub4e4\uc744 \ud588\ub358 \uac70\uc9c0\ub9cc), \uc11c\ube44\uc2a4 \ubcc4\ub85c NodePort\ub97c \uc9c0\uc815\ud558\uace0 (\uc9c0\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 random\uc73c\ub85c \ud560\ub2f9\ub418\ub2c8) \ubc30\ud3ec\ud558\ub418 \ubbf8\ub9ac NLB\ub97c \uc0dd\uc131\ud574\uc11c \uc9c0\uc815\ub41c port \ub4e4\uc744 \uac00\ub9ac\ud0a4\uace0 API gateway\ub294 VPC link\ub85c \ud574\ub2f9 NLB\ub97c \uc5f0\uacb0\ud558\ub294\uac8c \uc5b4\ub5a8\uae4c \uc2f6\ub2e4."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"http://13.125.231.217/wp-content/uploads/2018/08/k8s-private-nodeport.png",children:(0,n.jsx)(a.img,{src:t(43984).A+"",width:"820",height:"742"})})})]})}function d(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},95302:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/api-gateway-vpc-link-569386412977ed7df20337a066a1691a.png"},83016:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-ingress-api-gateway-046781d591cf76e90833e5da112568c9.png"},62574:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-ingress-d5ed7ba6363410588f291f63c3477696.png"},22714:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-internal-api-gateway-461c27d8d3f38fc8b56a00a87244f59b.png"},73465:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-loadbalancer-12cb220b8e71d01e9cc9d438191894fe.png"},98726:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-nodeport-fdc462f014d8a8c12488ffe1a55e0175.png"},43984:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/k8s-private-nodeport-342c3aa05c9ec28055a367c0138d4b3e.png"},28453:(e,a,t)=>{t.d(a,{R:()=>i,x:()=>l});var n=t(96540);const s={},r=n.createContext(s);function i(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);