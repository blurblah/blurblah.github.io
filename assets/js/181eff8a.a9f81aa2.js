"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[64327],{25469:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>p,toc:()=>l});var o=t(74848),a=t(28453);const r={title:"VPN\uc73c\ub85c MAAS node\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c route \uc124\uc815",date:"2016-11-04",categories:["devops","network"],tags:["maas-network","maas-node-vpn-\uc5f0\uacb0","maas-node-\uc811\uadfc","vpn-push-route","vpn-\ub77c\uc6b0\ud305","\ub77c\uc6b0\ud305"],coverImage:"maas-vpn-network.png"},s=void 0,p={permalink:"/2016/11/04/wp/vpn\uc73c\ub85c-maas-node\uc5d0-\uc811\uadfc\ud558\uae30-\uc704\ud55c-route-\uc124\uc815",source:"@site/blog/wp/2016-11-04-vpn\uc73c\ub85c-maas-node\uc5d0-\uc811\uadfc\ud558\uae30-\uc704\ud55c-route-\uc124\uc815.md",title:"VPN\uc73c\ub85c MAAS node\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c route \uc124\uc815",description:'"MAAS \uad6c\ucd95\ud558\uae30"\ub97c \ud1b5\ud574 MAAS\ub97c \uc704\ud55c network \uc124\uc815,\xa0 \uad6c\ucd95 \ub4f1\uc744 \ud574\ubd24\ub294\ub370 \uc815\uc791 \uc0dd\uc131\ub41c MAAS node\uc5d0 \ubc14\ub85c \uc811\uadfc\ud558\ub294\uac8c \ubd88\uac00\ub2a5\ud558\ub2e4. MAAS network\uc774 NAT\ub418\uc5b4 MAAS network \ub0b4\ubd80\uc5d0 \uc788\ub294 VM\ub4e4\uc774 \uc678\ubd80 \uc778\ud130\ub137\uacfc \uc5f0\uacb0\ub418\ub294 \uac83\uc740 \uac00\ub2a5\ud558\uc9c0\ub9cc MAAS network\uc73c\ub85c \ud1b5\ud558\ub294 \uacbd\ub85c\ub97c \uc9c0\uc815\ud558\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc778\ub370 \uac04\ub2e8\ud788 route \uc124\uc815\uc73c\ub85c \ucc98\ub9ac\ud55c \ubc29\ubc95\uc744 \uc815\ub9ac\ud574\ubd24\ub2e4.',date:"2016-11-04T00:00:00.000Z",formattedDate:"November 4, 2016",tags:[{label:"maas-network",permalink:"/tags/maas-network"},{label:"maas-node-vpn-\uc5f0\uacb0",permalink:"/tags/maas-node-vpn-\uc5f0\uacb0"},{label:"maas-node-\uc811\uadfc",permalink:"/tags/maas-node-\uc811\uadfc"},{label:"vpn-push-route",permalink:"/tags/vpn-push-route"},{label:"vpn-\ub77c\uc6b0\ud305",permalink:"/tags/vpn-\ub77c\uc6b0\ud305"},{label:"\ub77c\uc6b0\ud305",permalink:"/tags/\ub77c\uc6b0\ud305"}],readingTime:4.79,hasTruncateMarker:!1,authors:[],frontMatter:{title:"VPN\uc73c\ub85c MAAS node\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c route \uc124\uc815",date:"2016-11-04",categories:["devops","network"],tags:["maas-network","maas-node-vpn-\uc5f0\uacb0","maas-node-\uc811\uadfc","vpn-push-route","vpn-\ub77c\uc6b0\ud305","\ub77c\uc6b0\ud305"],coverImage:"maas-vpn-network.png"},unlisted:!1,prevItem:{title:"MAAS\uc5d0 juju bootstrap\uc744 \ud574\ubcf4\uc790",permalink:"/2016/11/05/wp/maas\uc5d0-juju-bootstrap\uc744-\ud574\ubcf4\uc790"},nextItem:{title:"VyOS\ub97c \uc774\uc6a9\ud55c NAT network \uad6c\uc131",permalink:"/2016/11/02/wp/vyos\ub97c-\uc774\uc6a9\ud55c-nat-network-\uad6c\uc131"}},i={authorsImageUrls:[]},l=[{value:"1. Network \uad6c\uc131",id:"1-network-\uad6c\uc131",level:3},{value:"2. Route to MAAS network",id:"2-route-to-maas-network",level:3},{value:"3. VPN route",id:"3-vpn-route",level:3},{value:"4. MAAS node\uc5d0 \uc5f0\uacb0",id:"4-maas-node\uc5d0-\uc5f0\uacb0",level:3}];function d(e){const n={a:"a",h3:"h3",img:"img",p:"p",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:'"MAAS \uad6c\ucd95\ud558\uae30"\ub97c \ud1b5\ud574 MAAS\ub97c \uc704\ud55c network \uc124\uc815,\xa0 \uad6c\ucd95 \ub4f1\uc744 \ud574\ubd24\ub294\ub370 \uc815\uc791 \uc0dd\uc131\ub41c MAAS node\uc5d0 \ubc14\ub85c \uc811\uadfc\ud558\ub294\uac8c \ubd88\uac00\ub2a5\ud558\ub2e4. MAAS network\uc774 NAT\ub418\uc5b4 MAAS network \ub0b4\ubd80\uc5d0 \uc788\ub294 VM\ub4e4\uc774 \uc678\ubd80 \uc778\ud130\ub137\uacfc \uc5f0\uacb0\ub418\ub294 \uac83\uc740 \uac00\ub2a5\ud558\uc9c0\ub9cc MAAS network\uc73c\ub85c \ud1b5\ud558\ub294 \uacbd\ub85c\ub97c \uc9c0\uc815\ud558\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc778\ub370 \uac04\ub2e8\ud788 route \uc124\uc815\uc73c\ub85c \ucc98\ub9ac\ud55c \ubc29\ubc95\uc744 \uc815\ub9ac\ud574\ubd24\ub2e4.'}),"\n",(0,o.jsx)(n.p,{children:"\xa0"}),"\n",(0,o.jsx)(n.h3,{id:"1-network-\uad6c\uc131",children:"1. Network \uad6c\uc131"}),"\n",(0,o.jsx)(n.p,{children:"\ud604\uc7ac \uc0c1\ud0dc\uc758 network \uad6c\uc131\uc744 \uadf8\ub824\ubcf4\uba74 \uc544\ub798 \uadf8\ub9bc\uacfc \uac19\ub2e4. (\ubb50\ub4e0 \uadf8\ub824\ubd10\uc57c \uba85\ud655\ud574\uc9c4\ub2e4)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"maas-vpn-network",src:t(18046).A+"",width:"522",height:"483"})}),"\n",(0,o.jsx)(n.p,{children:"\xa0"}),"\n",(0,o.jsx)(n.p,{children:'\uc815\ub9ac\ub97c \ud574\ubcf4\uba74 192.168.100.0/24\uc758 \uc815\uccb4\ub97c \uc54c\uace0 \uc788\ub294 \uac83\uc740 NAT\ub97c \uad6c\uc131\ud558\uace0 \uc788\ub294 VyOS\xa0 \ud558\ub098 \ubfd0\uc778\ub370, \uc9d1\uc5d0\uc11c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \uacf5\uc720\uae30\ub294 VyOS\uac00 \uac00\uc9c0\uace0 \uc788\ub294 \ub450 \uac1c\uc758 NIC \uc911 \ud558\ub098\ub9cc \uad00\ub9ac\ud558\uace0 \uc788\uace0 VyOS\uac00 \ubb34\uc5c7\uc744 \ud558\ub294 \ub188\uc778\uc9c0 \uad00\uc2ec\ub3c4 \uc5c6\uace0 \ubaa8\ub974\ub294 \uc0c1\ud0dc. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 \uacf5\uc720\uae30\ub85c\ubd80\ud130 ip\ub97c \ud560\ub2f9\ubc1b\uc544 \ub0b4\uc678\ubd80\uc640 \ud1b5\uc2e0\ud558\uace0 \uc788\ub294 192.168.10.0/24 \ub300\uc5ed\uc758 \ubaa8\ub4e0 \uc7a5\ube44\ub3c4 192.168.100.0/24\uc5d0 \uc811\uadfc\ud560 \uc218\uac00 \uc5c6\ub2e4. \ub2e8, "VyOS\ub97c \uc774\uc6a9\ud55c NAT network \uad6c\uc131"\uc5d0\uc11c \uc124\uc815\ud588\ub358 \uac83\ucc98\ub7fc 192.168.10.0/24 \ub300\uc5ed\uc5d0 \uc788\ub294 \uc7a5\ube44\uac00 maas-network\uacfc \uc5f0\uacb0\ud560 \uc218 \uc788\ub294 NIC\uc744 \ucd94\uac00\ub85c \ub2ec\uace0 \uc788\uc73c\uba74 VyOS\uc5d0 \uc758\ud574 DHCP\ub85c 192.168.100.0/24 \ub300\uc5ed\uc758 ip\ub97c \ud560\ub2f9\ubc1b\uc744 \uc218 \uc788\uc73c\ub2c8 \uc811\uadfc\uc774 \uac00\ub2a5\ud558\ub2e4. \ud558\uc9c0\ub9cc \uc5f0\uacb0\ud558\uace0\uc790 \ud558\ub294 \ubaa8\ub4e0 \uc7a5\ube44\uc5d0 NIC\uc744 \ucd94\uac00\ud558\ub294 \uac83\ub3c4 \uc774\uc0c1\ud558\uace0 \ub354 \ub098\uc544\uac00 VPN\uc73c\ub85c \uc5f0\uacb0\ub41c \uc678\ubd80\uc5d0 \uc788\ub294 \uc7a5\ube44\uc758 \uacbd\uc6b0\uc5d4 \ub0b4\ubd80\ub9dd\uc5d0 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc801\uc73c\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\ub294 NIC\uc744 \ub2e4\ub294 \uac83\uc740 \ubd88\uac00\ub2a5\ud55c \uc77c\uc774\ub2e4. \uc774\ub7f0 \uacbd\uc6b0 MAAS node\uc5d0 \uc5b4\ub5bb\uac8c \uc5f0\uacb0\ub418\uac8c \ud560 \uc218 \uc788\uc744\uae4c?'}),"\n",(0,o.jsx)(n.p,{children:"\xa0"}),"\n",(0,o.jsx)(n.h3,{id:"2-route-to-maas-network",children:"2. Route to MAAS network"}),"\n",(0,o.jsx)(n.p,{children:"\uacf5\uc720\uae30 \uc544\ub798\uc5d0 \uc788\ub294 192.168.10.0/24 \ub300\uc5ed\uc758 \uc7a5\ube44\ub4e4\uc740 \uacf5\uc720\uae30\ub97c gateway\ub85c \ud558\uace0 \uc788\uc73c\ub2c8 \uacf5\uc720\uae30 \ub77c\uc6b0\ud305 \ud14c\uc774\ube14\uc5d0 \uc124\uc815\ud574\ubcf4\uae30\ub85c \ud588\ub2e4. Destination\uc740 192.168.100.0, subnet mask\ub294 255.255.255.0\xa0 (\uacb0\uad6d 192.168.100.0/24\uc5d0 \ub300\ud55c \uc694\uccad)\xa0 \uc744 \uac00\uc9c0\ub294 LAN \ub0b4\ubd80\uc5d0\uc11c\uc758 \ud2b8\ub798\ud53d\uc774 VyOS\uc758 eth0\uac00 \ud560\ub2f9\ubc1b\uc740 ip\ub97c gateway\ub85c \ud574\uc11c \ud758\ub7ec\uac00\uac8c \uc124\uc815\ud588\ub354\ub2c8 \ub05d. 192.168.10.x\ub97c ip\ub85c \uac16\ub294 \uc7a5\ube44\ub4e4\uc5d0\uc11c ping\uc744 \ub0a0\ub824\ubcf4\ub2c8 \uc815\uc0c1 \uc751\ub2f5\ub4e4\uc774 \ub118\uc5b4\uc628\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:"\xa0"}),"\n",(0,o.jsx)(n.h3,{id:"3-vpn-route",children:"3. VPN route"}),"\n",(0,o.jsx)(n.p,{children:"\uacf5\uc720\uae30 \ub0b4\ubd80\uc5d0\uc11c\uc758 \uc811\uadfc\uc740 \uacf5\uc720\uae30 \ub77c\uc6b0\ud305 \ud14c\uc774\ube14\uc5d0 \ud558\ub098 \ucd94\uac00\ud568\uc73c\ub85c\uc368 \ubb38\uc81c\ub294 \ud574\uacb0\uc774 \ub418\uc5c8\ub294\ub370 VPN\uc740 \uc57d\uac04 \uc0c1\ud669\uc774 \ub2e4\ub974\ub2e4. OpenVPN \uc11c\ubc84 \uae30\ub2a5\uc774 \ud3ec\ud568\ub41c \uacf5\uc720\uae30\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\ub370, \uae30\ubcf8 \uc124\uc815\ub9cc\uc73c\ub85c VPN client\uac00 \ud560\ub2f9\ubc1b\ub294 10.8.0.0/24 \ub300\uc5ed\uc758 ip\uc5d0\uc11c \uacf5\uc720\uae30 \ub0b4\ubd80\uc758 192.168.10.0/24 \ub300\uc5ed\uc758 \uc7a5\ube44\ub4e4\uc774 \ubcf4\uc774\ub294 \uc0c1\ud0dc\uc600\uc73c\ub098(\uc6d0\ub798\ub294 \ubcc4\ub3c4\ub85c \uc124\uc815\uc744 \ucd94\uac00\ud574\uc57c\xa0 \uac00\ub2a5) 10.8.0.0/24\uc5d0\uc11c\ub294 192.168.100.0/24\ub85c \uac00\ub294 \uae38\uc744 \ubaa8\ub974\ub294 \uc0c1\ud0dc. \uc0c1\ud669\uc740 2\uc640 \uc57d\uac04 \ub2e4\ub974\uc9c0\ub9cc \uc5b4\ucc28\ud53c \uacbd\ub85c\ub9cc \ucd94\uac00\ud558\uba74 \ub420 \uc77c\uc774\ub2e4. OpenVPN \uc124\uc815\uc5d0 \uc544\ub798 \ub77c\uc6b0\ud2b8 \uc124\uc815\uc744 \ucd94\uac00\ud574\uc11c \ud574\uacb0\ud560 \uc218 \uc788\uc5c8\ub2e4."}),"\n",(0,o.jsx)(n.p,{children:"[bash]"}),"\n",(0,o.jsx)(n.p,{children:'push "route 192.168.100.0 255.255.255.0"'}),"\n",(0,o.jsx)(n.p,{children:"[/bash]"}),"\n",(0,o.jsx)(n.p,{children:"\xa0"}),"\n",(0,o.jsx)(n.h3,{id:"4-maas-node\uc5d0-\uc5f0\uacb0",children:"4. MAAS node\uc5d0 \uc5f0\uacb0"}),"\n",(0,o.jsx)(n.p,{children:"MAAS \uad6c\ucd95\uc2dc ssh key (public)\ub97c \ub4f1\ub85d\ud574\ub450\uc5c8\uae30 \ub54c\ubb38\uc5d0 MAAS node \ubc30\ud3ec\uc2dc \ub4f1\ub85d\ud55c public key\ub3c4 \ud568\uaed8 \ubc30\ud3ec\ub41c\ub2e4. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 node\uc5d0 \ubcc4\ub3c4\ub85c \uc124\uc815\uc744 \ucd94\uac00\ud558\uc9c0 \uc54a\ub294 \uc774\uc0c1 \uc774\ubbf8 \ubc30\ud3ec\ub418\uc5b4 \uc788\ub294 public key\uc640 \uc30d\uc744 \uc774\ub8e8\ub294 private key\ub97c \uac00\uc9c0\uace0 \uc788\uc5b4\uc57c\ub9cc ssh \uc811\uc18d\uc774 \uac00\ub2a5\ud558\ub2e4.\xa0 Network \ub300\uc5ed\uc774 \ub2ec\ub790\uae30 \ub54c\ubb38\uc5d0 \ucc98\uc74c\uc5d4 \uc811\uadfc \uc790\uccb4\uac00 \ub418\uc9c0 \uc54a\uc558\uc9c0\ub9cc 3\uae4c\uc9c0\uc758 \uacfc\uc815\uae4c\uc9c0 \uc9c4\ud589\ud55c \ud6c4 VPN\uc73c\ub85c \uc5f0\uacb0\ub41c \uc7a5\ube44(private key\ub97c \uac00\uc9c0\uace0 \uc788\ub294)\uc5d0\uc11c ssh \uc811\uadfc\uc744 \uc2dc\ub3c4\ud558\ub2c8 \uc131\uacf5."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2016/11/maas-node-login.png",children:(0,o.jsx)(n.img,{alt:"maas-node-login",src:t(56435).A+"",width:"697",height:"564"})})})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},56435:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/maas-node-login-5912410e17489669806ac90778083f25.png"},18046:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/maas-vpn-network-42eaf75f0c2b4fe83cddce467bb10af3.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>p});var o=t(96540);const a={},r=o.createContext(a);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function p(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);