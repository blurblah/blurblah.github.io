"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[73039],{93775:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=t(74848),a=t(28453);const s={slug:"ansible-warnings-and-tips",title:"Ansible warnings and tips",date:new Date("2017-12-11T10:34:00.000Z"),tags:["ansible","warning","tip"],enableComments:!0},r="Variables in conditions",l={permalink:"/ansible-warnings-and-tips",source:"@site/blog/2017/12/11-ansible-warnings-and-tips.md",title:"Ansible warnings and tips",description:"when \uad6c\ubb38\uc5d0\uc11c \ubcc0\uc218\ub294 \ub530\uc634\ud45c\ub97c \ud3ec\ud568\ud574 \uc774\uc911 \uc911\uad04\ud638\ub85c \ubb36\uc744 \ud544\uc694\uac00 \uc5c6\uc74c",date:"2017-12-11T10:34:00.000Z",formattedDate:"December 11, 2017",tags:[{label:"ansible",permalink:"/tags/ansible"},{label:"warning",permalink:"/tags/warning"},{label:"tip",permalink:"/tags/tip"}],readingTime:1.18,hasTruncateMarker:!1,authors:[],frontMatter:{slug:"ansible-warnings-and-tips",title:"Ansible warnings and tips",date:"2017-12-11T10:34:00.000Z",tags:["ansible","warning","tip"],enableComments:!0},unlisted:!1,prevItem:{title:"Differences of Ansible task importing modules / Nodebb APIs",permalink:"/ansible-import-tasks-nodebb"},nextItem:{title:"Install vim plugins",permalink:"/install-vim-plugins"}},o={authorsImageUrls:[]},c=[];function p(n){const e={br:"br",code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["when \uad6c\ubb38\uc5d0\uc11c \ubcc0\uc218\ub294 \ub530\uc634\ud45c\ub97c \ud3ec\ud568\ud574 \uc774\uc911 \uc911\uad04\ud638\ub85c \ubb36\uc744 \ud544\uc694\uac00 \uc5c6\uc74c",(0,i.jsx)(e.br,{}),"\n","\ubb36\uc5b4\uc11c \uc0ac\uc6a9\ud560 \uacbd\uc6b0 warning \ubc1c\uc0dd"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"# Warning\n- name: check distribution\n  fail:\n    msg: \"Not supported {{ ansible_distribution }}\"\n  when: \"{{ ansible_distribution }} != 'Ubuntu'\"\n\n# Fixed\n  when: ansible_distribution != 'Ubuntu'\n"})}),"\n",(0,i.jsx)(e.h1,{id:"register--set_fact",children:"register & set_fact"}),"\n",(0,i.jsxs)(e.p,{children:["Playbook\uc5d0 \uc815\uc758\ub41c variable\uc744 task\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ub54c ",(0,i.jsx)(e.strong,{children:"register"}),"\ub85c \uc7ac\uc815\uc758\uac00 \uc548\ub428",(0,i.jsx)(e.br,{}),"\n",(0,i.jsx)(e.strong,{children:"set_fact"})," module\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \uc7ac\uc815\uc758 \uac00\ub2a5"]}),"\n",(0,i.jsx)(e.h1,{id:"warning-in-loop",children:"Warning in loop"}),"\n",(0,i.jsxs)(e.p,{children:["apt module \uc0ac\uc6a9\uc2dc with_items\ub85c \ubc18\ubcf5 \uc124\uce58\ud558\ub3c4\ub85d \ud574\ub450\uc5c8\ub294\ub370 \uc678\ubd80\uc5d0\uc11c \uac00\uc838\uc628 \ubcc0\uc218\ub294 \uc0ac\uc6a9\ud558\uc9c0 \ub9d0\ub77c\ub294 warning \ubc1c\uc0dd\ud568(deprecate \uc608\uc815)",(0,i.jsx)(e.br,{}),"\n","\uc774\ud574\uac00 \uc798 \ub418\uc9c0\ub294 \uc54a\uc9c0\ub9cc \uc544\ub798\ucc98\ub7fc \ubcc0\uacbd\ud588\ub354\ub2c8 warning \uc0ac\ub77c\uc9d0"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'# Warning\n- name: Install packages\n  apt: "{{ item }}"\n  with_items:\n    - { name: apt-transport-https }\n    - { name: ca-certificates }\n    - { name: curl }\n    - { name: software-properties-common }\n    - { name: "{{ docker_package }}" }\n\n# Fixed\n- name: Install packages\n  apt: name={{ item }}\n  with_items:\n    - apt-transport-https\n    - ca-certificates\n    - curl\n    - software-properties-common\n    - "{{ docker_package }}"\n'})})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>l});var i=t(96540);const a={},s=i.createContext(a);function r(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);