"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[28805],{80637:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>a});var i=r(74848),t=r(28453);const o={title:"Dynamic routing\uc744 \uc704\ud55c Zuul\uacfc Spring cloud config",date:"2018-03-29",categories:["devops"],tags:["api-gateway","bootstrap-properties","dynamic-routing","eureka","filter","netflix","refresh","spring-boot","spring-cloud-config","zuul"]},l=void 0,c={permalink:"/2018/03/29/wp/dynamic-routing\uc744-\uc704\ud55c-zuul\uacfc-spring-cloud-config",source:"@site/blog/wp/2018-03-29-dynamic-routing\uc744-\uc704\ud55c-zuul\uacfc-spring-cloud-config.md",title:"Dynamic routing\uc744 \uc704\ud55c Zuul\uacfc Spring cloud config",description:"Legacy system\uc744 MSA\ub85c \ubcc0\uacbd\ud558\ub294 \uc791\uc5c5\uc744 \ud558\ub2e4\ubcf4\ub2c8 \ud769\uc5b4\uc838\uc788\ub294 \uac01 application server \ub4e4\uc758 \uc778\uc99d\uc774\ub098 \uc138\uc158 \uacf5\uc720, \uadf8\ub9ac\uace0 \ubc30\ud3ec\uc640 \uad00\ub828\ud574\uc11c application \ucd94\uac00 \ud639\uc740 \ubcc0\uacbd\uc2dc \uc5b4\ub5bb\uac8c \uc720\uc5f0\ud558\uac8c \ub300\uc751\ud560 \uc218 \uc788\uc744\uc9c0 \uace0\ubbfc\uc744 \ud558\uac8c \ub418\uc5c8\ub2e4. \ud544\uc5f0\uc801\uc73c\ub85c API gateway\ub97c \uc0b4\ud3b4\ubcfc \uc218 \ubc16\uc5d0 \uc5c6\uc5c8\ub294\ub370 \uadf8 \uc911 Netflix OSS\uc778 Zuul\uc5d0 \uc0c1\ub2f9\ud788 \uc7ac\ubbf8\ub97c \ub290\ub07c\uac8c \ub418\uc5c8\ub2e4. \ub0b4\uac00 \ud544\uc694\ud55c \uae30\ub2a5\ub4e4\uc744 filter\ub85c \ub123\uc73c\uba74 \ub418\uaca0\ub2e4 \uc2f6\uae30\ub3c4 \ud588\uace0 Netflix tech blog\uc5d0 \uae30\uc220\ub41c Zuul\uc5d0 \ub300\ud55c \ubb38\uc11c(Announcing Zuul: Edge Service in the Cloud) \uac00 \uadf8\ub7f0 \ub290\ub08c\uc744 \uac16\uac8c \ub9cc\ub4e4\uc5b4 \uc900 \ub4ef \ud558\ub2e4. \ubb38\uc11c\uc5d0 \uc18c\uac1c\ub41c, Netflix\uc5d0\uc11c Zuul\uc744 \ud65c\uc6a9\ud558\ub294 \uc0ac\ub840\ub4e4\ub9cc \ubcf4\uba74 \ubb54\uac00 \ub300\ub2e8\ud788 \ud765\ubbf8\ub85c\uc6b4 \uc791\uc5c5\ub4e4\uc744 \ub098\uc911\uc5d0 \ucd94\uac00\ub85c \ud574\ubcfc \uc218\ub3c4 \uc788\uc744 \uac83 \uac19\ub2e4.",date:"2018-03-29T00:00:00.000Z",formattedDate:"March 29, 2018",tags:[{label:"api-gateway",permalink:"/tags/api-gateway"},{label:"bootstrap-properties",permalink:"/tags/bootstrap-properties"},{label:"dynamic-routing",permalink:"/tags/dynamic-routing"},{label:"eureka",permalink:"/tags/eureka"},{label:"filter",permalink:"/tags/filter"},{label:"netflix",permalink:"/tags/netflix"},{label:"refresh",permalink:"/tags/refresh"},{label:"spring-boot",permalink:"/tags/spring-boot"},{label:"spring-cloud-config",permalink:"/tags/spring-cloud-config"},{label:"zuul",permalink:"/tags/zuul"}],readingTime:18.56,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Dynamic routing\uc744 \uc704\ud55c Zuul\uacfc Spring cloud config",date:"2018-03-29",categories:["devops"],tags:["api-gateway","bootstrap-properties","dynamic-routing","eureka","filter","netflix","refresh","spring-boot","spring-cloud-config","zuul"]},unlisted:!1,prevItem:{title:"ELK + Packetbeat\ub85c \uc694\uccad\uc744 \uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uae30",permalink:"/2018/04/23/wp/elk-packetbeat\ub85c-\uc694\uccad\uc744-\uc9c0\ub3c4\uc5d0-\ud45c\uc2dc\ud558\uae30"},nextItem:{title:"\ube44\ub3d9\uae30 worker\ub97c \uc704\ud55c RabbitMQ \uac00\ubccd\uac8c \uc0b4\ud3b4\ubcf4\uae30",permalink:"/2018/03/07/wp/\ube44\ub3d9\uae30-worker\ub97c-\uc704\ud55c-rabbitmq-\uac00\ubccd\uac8c-\uc0b4\ud3b4\ubcf4\uae30"}},s={authorsImageUrls:[]},a=[{value:"Zuul\uc740 \ubb34\uc5c7\uc778\uac00?",id:"zuul\uc740-\ubb34\uc5c7\uc778\uac00",level:3},{value:"Zuul\uc5d0\uc11c\uc758 filter",id:"zuul\uc5d0\uc11c\uc758-filter",level:3},{value:"Authentication, dynamic routing",id:"authentication-dynamic-routing",level:3},{value:"Dynamic routing\uc744 \uc880 \ub354 \ud3b8\ud558\uac8c \ud560 \uc218\ub294 \uc5c6\uc744\uae4c?",id:"dynamic-routing\uc744-\uc880-\ub354-\ud3b8\ud558\uac8c-\ud560-\uc218\ub294-\uc5c6\uc744\uae4c",level:3},{value:"\ucf54\ub4dc\ub85c \uc0b4\ud3b4\ubcf4\uc790",id:"\ucf54\ub4dc\ub85c-\uc0b4\ud3b4\ubcf4\uc790",level:3},{value:"Run!",id:"run",level:3},{value:"\uc815\ub9ac\ud558\uba74...",id:"\uc815\ub9ac\ud558\uba74",level:3}];function p(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Legacy system\uc744 MSA\ub85c \ubcc0\uacbd\ud558\ub294 \uc791\uc5c5\uc744 \ud558\ub2e4\ubcf4\ub2c8 \ud769\uc5b4\uc838\uc788\ub294 \uac01 application server \ub4e4\uc758 \uc778\uc99d\uc774\ub098 \uc138\uc158 \uacf5\uc720, \uadf8\ub9ac\uace0 \ubc30\ud3ec\uc640 \uad00\ub828\ud574\uc11c application \ucd94\uac00 \ud639\uc740 \ubcc0\uacbd\uc2dc \uc5b4\ub5bb\uac8c \uc720\uc5f0\ud558\uac8c \ub300\uc751\ud560 \uc218 \uc788\uc744\uc9c0 \uace0\ubbfc\uc744 \ud558\uac8c \ub418\uc5c8\ub2e4. \ud544\uc5f0\uc801\uc73c\ub85c API gateway\ub97c \uc0b4\ud3b4\ubcfc \uc218 \ubc16\uc5d0 \uc5c6\uc5c8\ub294\ub370 \uadf8 \uc911 Netflix OSS\uc778 Zuul\uc5d0 \uc0c1\ub2f9\ud788 \uc7ac\ubbf8\ub97c \ub290\ub07c\uac8c \ub418\uc5c8\ub2e4. \ub0b4\uac00 \ud544\uc694\ud55c \uae30\ub2a5\ub4e4\uc744 filter\ub85c \ub123\uc73c\uba74 \ub418\uaca0\ub2e4 \uc2f6\uae30\ub3c4 \ud588\uace0 Netflix tech blog\uc5d0 \uae30\uc220\ub41c Zuul\uc5d0 \ub300\ud55c \ubb38\uc11c(",(0,i.jsx)(n.a,{href:"https://medium.com/netflix-techblog/announcing-zuul-edge-service-in-the-cloud-ab3af5be08ee",children:"Announcing Zuul: Edge Service in the Cloud"}),") \uac00 \uadf8\ub7f0 \ub290\ub08c\uc744 \uac16\uac8c \ub9cc\ub4e4\uc5b4 \uc900 \ub4ef \ud558\ub2e4. \ubb38\uc11c\uc5d0 \uc18c\uac1c\ub41c, Netflix\uc5d0\uc11c Zuul\uc744 \ud65c\uc6a9\ud558\ub294 \uc0ac\ub840\ub4e4\ub9cc \ubcf4\uba74 \ubb54\uac00 \ub300\ub2e8\ud788 \ud765\ubbf8\ub85c\uc6b4 \uc791\uc5c5\ub4e4\uc744 \ub098\uc911\uc5d0 \ucd94\uac00\ub85c \ud574\ubcfc \uc218\ub3c4 \uc788\uc744 \uac83 \uac19\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"zuul\uc740-\ubb34\uc5c7\uc778\uac00",children:"Zuul\uc740 \ubb34\uc5c7\uc778\uac00?"}),"\n",(0,i.jsx)(n.p,{children:"\uace0\uc2a4\ud2b8 \ubc84\uc2a4\ud130\uc988 1\ud3b8\uc744 \ubcf4\uba74 \uc2dc\uace0\ub2c8 \uc704\ubc84\uac00 \uc660 \uac1c\uac19\uc774(\ubc1c\uc74c \uc8fc\uc758) \uc0dd\uae34 \uc545\ub9c8\ud55c\ud14c \ube59\uc758\ub418\uace0 \ub098\uc911\uc5d4 \uadf8\uac78\ub85c \ubcc0\ud558\ub294\ub370 \uadf8\uac8c Zuul\uc774\ub2e4. (\uc601\ud654\uc5d0\uc11c\ub294 Zuul\ub85c \ubcc0\ud558\ub294\uac8c \ub458\uc778\ub370 \ud558\ub098\ub294 gatekeeper, \ud558\ub098\ub294 keymaster)"}),"\n",(0,i.jsx)("iframe",{src:"//www.youtube.com/embed/lg7MAacSPNM",width:"560",height:"314",allowfullscreen:"allowfullscreen"}),"\n",(0,i.jsx)(n.p,{children:"Zuul\uc740 \ubb38\uc9c0\uae30 \uc815\ub3c4\uc758 \uc5ed\ud560\uc774\ub77c \ubcf4\uba74 \ub418\uaca0\ub2e4. \uc774\uac83\uacfc \ube44\uc2b7\ud558\uc9c0\ub9cc \ub610 \ub2e4\ub974\uac8c Netflix\uc758 Zuul\uc740 dynamic routing \ub4f1\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub294 gateway \uc11c\ube44\uc2a4. Routing \uae30\ub2a5\ubfd0\ub9cc \uc544\ub2c8\ub77c http \uc694\uccad\uacfc \uc751\ub2f5 \uc0ac\uc774\uc5d0\uc11c \ub3d9\uc791\ud558\ub294 filter\ub97c \uc9c0\uc6d0\ud568\uc73c\ub85c\uc368 filter \uad6c\ud604\ub0b4\uc6a9\uc5d0 \ub530\ub77c \ub354 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uace0 \uc804\uccb4\uc801\uc73c\ub85c \uc720\uc5f0\ud55c \uc11c\ube44\uc2a4 \uad6c\uc131\uc774 \uac00\ub2a5\ud558\uac8c \ub420 \uac83 \uac19\ub2e4. \ucd94\uac00\ub85c Spring boot \uc5d0\uc11c \uba87\uac00\uc9c0 Netflix OSS (Zuul, Ribbon, Eureka, Feign, ... (Feign\uc740 Netflix OSS project\uc5d0\uc11c \ubd84\ub9ac\ub41c \ub4ef))\ub4e4\uc744 \uc9c0\uc6d0\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 Spring boot \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc6d0\ud558\ub294 spring cloud package\uc5d0 \ub300\ud55c dependency \ucd94\uac00\ud574\uc11c \ucf54\ub4dc \uba87 \uc904 \ucd94\uac00\ud558\ub294 \uac83\ub9cc\uc73c\ub85c\ub3c4 \uac04\ub2e8\ud558\uac8c \uc2dc\uc791\ud574 \ubcfc \uc218 \uc788\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"zuul\uc5d0\uc11c\uc758-filter",children:"Zuul\uc5d0\uc11c\uc758 filter"}),"\n",(0,i.jsx)(n.p,{children:"Zuul\uc5d0\uc11c filter\uc758 \uae30\ub2a5\uacfc \uc5ed\ud560\uc744 \uc798 \uc774\ud574\ud558\uae30 \uc704\ud574 Zuul core\uc758 \uad6c\uc870\ub97c \uba3c\uc800 \ud655\uc778\ud574\ubcf4\ub294\uac8c \uc88b\uc744 \uac83 \uac19\ub2e4."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2018/03/zuul_architecture.png",children:(0,i.jsx)(n.img,{src:r(14522).A+"",width:"1000",height:"779"})}),"\n<\ucd9c\ucc98 :\xa0",(0,i.jsx)(n.a,{href:"https://medium.com/netflix-techblog/announcing-zuul-edge-service-in-the-cloud-ab3af5be08ee%5C%3E",children:"https://medium.com/netflix-techblog/announcing-zuul-edge-service-in-the-cloud-ab3af5be08ee\\>"})]}),"\n",(0,i.jsx)(n.p,{children:"\ucc38\uace0\ub85c \uc704 \uadf8\ub9bc\uc740 Zuul 1.x\uc758 core \uadf8\ub9bc\uc73c\ub85c servlet\uc744 \ud655\uc7a5\ud574 \uc0ac\uc6a9\ud558\ub294 \uac83\ucc98\ub7fc \ubcf4\uc774\uc9c0\ub9cc Zuul 2.x\uc5d0\uc11c\ub294 Netty \uae30\ubc18\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uae30 \ub54c\ubb38\uc5d0 \uc2e4\uc81c \ud604\uc7ac\uc758 \uad6c\uc870\uc640\ub294 \ub2e4\ub974\uaca0\uc9c0\ub9cc \ucee8\uc149\uc744 \uc774\ud574\ud558\ub294\ub370 \ubb38\uc81c\ub294 \uc5c6\uc744 \uac83 \uac19\ub2e4. \uadf8\ub9bc\uc744 \ubcf4\uba74 http \uc694\uccad\uacfc \uc751\ub2f5\uc5d0 \ub300\ud55c \ucc98\ub9ac\ub294 servlet\uc774 \ub2f4\ub2f9\ud558\uace0 \uc694\uccad\uacfc \uc751\ub2f5 \uc0ac\uc774\uc5d0\uc11c filter\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\uac8c \ub418\uc5b4\uc788\ub2e4. Filter\ub294 servlet\uacfc request context\ub97c \uacf5\uc720\ud558\uae30 \ub54c\ubb38\uc5d0 request context\ub97c \ud1b5\ud574 \uc694\uccad\uacfc \uc751\ub2f5\uc758 \ub0b4\uc6a9\uc744 \ud30c\uc545\ud560 \uc218 \uc788\uace0 \uadf8\uc5d0 \ub530\ub978 \uc801\uc808\ud55c \uc870\uce58\ub97c \ucde8\ud560 \uc218 \uc788\ub2e4. \ub610\ub294 \uc5ec\ub7ec filter \uac04 \uc0c1\ud0dc \uacf5\uc720\ub97c \uc704\ud574\uc11c\ub3c4 request context\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. Filter\ub294 ZuulFilter\ub97c extends \ud574\uc11c java\ub098 groovy\ub85c \uad6c\ud604\ud558\uba74 \ub418\ub294\ub370, \uc544\ub798\uc758 4\uac00\uc9c0\ub294 \ud544\uc218\uc801\uc73c\ub85c \uad6c\ud604\uc744 \ud574\uc8fc\uc5b4\uc57c \ud55c\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Type (\ub3d9\uc791 \uc2dc\uc810\uacfc \uae30\ub2a5\uc5d0 \ub530\ub77c pre, route, post, error \ub124\uac00\uc9c0 type\uc774 \uc788\uc74c)"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Execution order (\uac19\uc740 \uc885\ub958\uc758 filter \ub4e4 \uc0ac\uc774\uc5d0\uc11c \ub3d9\uc791\ud560 \uc21c\uc11c\ub85c \ub0ae\uc744\uc218\ub85d \uc21c\uc704\uac00 \ub192\uc74c)"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. Criteria (Filter\uac00 \ub3d9\uc791\ud560 \uc870\uac74. \uc608\ub97c \ub4e4\uc5b4, \ud2b9\uc815 request url\uc5d0 \ub300\ud574\uc11c\ub9cc \ub3d9\uc791\ud558\ub3c4\ub85d \ud560 \uc218 \uc788\uc74c)"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"4. Action (Filter\uac00 \uc218\ud589\ud560 \uc791\uc5c5)"})}),"\n",(0,i.jsx)(n.p,{children:"\uadf8\ub9bc\uc5d0\ub3c4 \ubb18\uc0ac\ub418\uc5b4 \uc788\uc9c0\ub9cc \uc7ac\ubbf8\uc788\ub294\uac8c \ud2b9\uc815 \ub514\ub809\ud1a0\ub9ac\ub97c \uc9c0\uc815\ud574\uc11c \uc8fc\uae30\uc801\uc73c\ub85c \ud574\ub2f9 \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc788\ub294 filter \ub4e4\uc744 \uc77d\uc5b4\ub4e4\uc77c \uc218 \uc788\ub2e4. \uc774\ub807\uac8c \ub418\uba74 runtime\uc5d0\uc11c filter\uc758 \ucd94\uac00, \ubcc0\uacbd\uc774 \uac00\ub2a5\ud560 \uac83\uc774\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"authentication-dynamic-routing",children:"Authentication, dynamic routing"}),"\n",(0,i.jsxs)(n.p,{children:["Zuul\uc744 \ud1b5\ud574\uc11c \ubc14\ub85c \uc2e4\ud5d8\ud574\ubcf4\uace0\uc790 \ud588\ub358 \uae30\ub2a5\uc740 authentication\uacfc dynamic routing\uc774\ub2e4. API gateway \ud558\uc704\uc5d0 \uc788\ub294 backend application\uc73c\ub85c \uc694\uccad\uc744 \uc804\ub2ec\ud558\uae30 \uc804\uc5d0 \uc778\uc99d\uc744 \ud1b5\ud574 \uc811\uadfc \uad8c\ud55c\uc5d0 \ub530\ub77c \uc801\ud569\ud55c \ucc98\ub9ac\ub97c \ud560 \uc218 \uc788\ub294 pre filter\ub97c \ucd94\uac00\ud558\uba74 service \uc804\uccb4\uc5d0 \ub300\ud55c authentication\uc740 \ud3b8\ud558\uac8c \ud574\uacb0\ud560 \uc218 \uc788\uc744 \uac83 \uac19\uc558\ub294\ub370 dynamic routing\uc758 \uacbd\uc6b0 \uc870\uae08 \uace0\ubbfc\uc744 \ud558\uac8c \ub418\uc5c8\ub2e4. Application\uc758 endpoint\ub97c \ucd94\uac00, \uc0ad\uc81c, \ubcc0\uacbd\ud560 \uc218 \uc788\uc5b4\uc57c \ud558\ub294\ub370 \ubcf5\uc7a1\ud558\uc9c4 \uc54a\uc9c0\ub9cc groovy\ub85c \ucc98\ub9ac\ud574\uc57c \ud55c\ub2e4\ub294\uac8c \ubc88\uac70\ub86d\ub2e4 \uc0dd\uac01\ub418\uc5c8\uace0 spring-cloud-netflix \uc5d0\uc11c\ub294 \ubb38\uc81c\uac00 \uc788\ub294 \uac83 \uac19\uc740 ",(0,i.jsx)(n.a,{href:"https://github.com/spring-cloud/spring-cloud-netflix/issues/223",children:"\uc774\uc288"}),"\ub3c4 \ubc1c\uacac. (\uc774\uc288\ub97c \ubcf4\uba74 dynamic script reloading\uc740 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294\ub2e4\ub294 \ub0b4\uc6a9\uc774 \uc788\uc9c0\ub9cc 2015\ub144\ub3c4. \uadf8 \ub54c\ub3c4 \ub418\ub294 \uae30\ub2a5\uc774\uc5c8\ub294\uc9c0, \uc548\ub418\ub2e4\uac00 \uc9c0\uc6d0\uc774 \ub41c\uac74\uc9c0 \ubaa8\ub974\uaca0\uc73c\ub098 \ud604\uc7ac\ub294 zuul\uc758 filter loader\ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4. Spring boot 2.0.0 / Spring cloud Finchley.M9)"]}),"\n",(0,i.jsx)(n.h3,{id:"dynamic-routing\uc744-\uc880-\ub354-\ud3b8\ud558\uac8c-\ud560-\uc218\ub294-\uc5c6\uc744\uae4c",children:"Dynamic routing\uc744 \uc880 \ub354 \ud3b8\ud558\uac8c \ud560 \uc218\ub294 \uc5c6\uc744\uae4c?"}),"\n",(0,i.jsx)(n.p,{children:"Zuul\uc5d0\uc11c routing \uc790\uccb4\ub294 Netflix OSS\uc778 Ribbon\uc744 \ud1b5\ud574 properties \ucd94\uac00\ub9cc\uc73c\ub85c\ub3c4 \uc27d\uac8c \uac00\ub2a5\ud558\ub2e4. (@EnableZuulProxy annotation\uc744 \uc4f0\uba74 \uc124\uc815\ub9cc \ud558\uba74 \ub41c\ub2e4) \ub2e4\ub9cc properties\uc5d0 routing \uacbd\ub85c\uac00 \uace0\uc815\ub418\uc5b4 \uc788\ub2e4 \ubcf4\ub2c8 \ucd94\uac00, \uc0ad\uc81c \ub610\ub294 \ubcc0\uacbd\ud560 \uacbd\uc6b0 restart \ud639\uc740 deploy \uacfc\uc815\uc774 \ud544\uc694\ud558\uace0, \uc5b4\ucc28\ud53c API gateway\ub97c \uad6c\uc131\ud55c\ub2e4\uba74 \ud574\uc57c\ud558\uaca0\uc9c0\ub9cc \uc774\uc911\ud654 \uad6c\uc131\uc774 \ud544\uc218\uc801\uc77c \uc218 \ubc16\uc5d0 \uc5c6\ub2e4. \uadf8\ub7ec\ub2c8\uae4c load balancer \uc544\ub798\uc5d0 \uc5ec\ub7ec\uac1c\uc758 gateway\ub97c \ub450\uace0 routing \uc124\uc815 \ubcc0\uacbd\uc2dc\ub9c8\ub2e4 rolling update \uac19\uc740 \ubc29\uc2dd\uc744 \uc801\uc6a9\ud574\uc57c\ub9cc \ud558\ub294\ub370 spring cloud config\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\uba74 \uc774\ub7f0 \ubc88\uac70\ub85c\uc6b4 \uacfc\uc815\uc758 \ubc18\ubcf5\uc744 \ud53c\ud560 \uc218 \uc788\ub2e4. (\ubb3c\ub860 \ubc30\ud3ec\uacfc\uc815\uc744 \uc790\ub3d9\ud654\ud574\ubc84\ub9ac\uba74 \uadf8\ub807\uac8c \ubc88\uac70\ub85c\uc6b8 \uac83\ub3c4 \uc5c6\uaca0\uc9c0\ub9cc \ub354 \uac04\ub2e8\ud55c \ubc29\ubc95\uc774 \uc788\uc73c\ubbc0\ub85c. \uadf8\ub9ac\uace0 \uc124\uc815 \ubcc0\uacbd\ub9cc\uc73c\ub85c \ubc30\ud3ec\ub97c \ub2e4\uc2dc \ud574\uc57c\ud55c\ub2e4\ub294 \uac83\ub3c4 \uc880 \ubd88\ud3b8\ud55c \uc77c\uc774\ub2e4)"}),"\n",(0,i.jsx)(n.h3,{id:"\ucf54\ub4dc\ub85c-\uc0b4\ud3b4\ubcf4\uc790",children:"\ucf54\ub4dc\ub85c \uc0b4\ud3b4\ubcf4\uc790"}),"\n",(0,i.jsxs)(n.p,{children:["\uc0d8\ud50c\uc774\uae30\ub3c4 \ud558\uace0 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uac19\uc740\uac8c \ub4e4\uc5b4\uc788\uc9c0\ub3c4 \uc54a\uc544\uc11c \ucf54\ub4dc\ub784 \uac83\ub3c4 \uc5c6\uc9c0\ub9cc, \ub610 \uadf8\ub9cc\ud07c \uac04\ud3b8\ud574\uc9c4\uac74 Spring boot\uacfc Netflix \ub355\ubd84\uc774\ub2e4. ",(0,i.jsx)(n.a,{href:"https://github.com/blurblah/zuul-demo",children:"Repository"})," \ucc38\uc870."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Config server"})}),"\n",(0,i.jsx)(n.p,{children:"Config server\ub294 \uc124\uc815 \uc815\ubcf4\ub97c \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \uac83\uc73c\ub85c \uc544\ub798\uc640 \uac19\uc740 spring-cloud-config-server\uc5d0 \ub300\ud55c dependency \ucd94\uac00\uac00 \ud544\uc694\ud558\ub2e4. \ubc18\ub300\ub85c \uc124\uc815 \uc815\ubcf4\ub97c config server\uc5d0 \uc704\uc784\ud558\uace0\uc790 \ud558\ub294 \uc11c\ube44\uc2a4\ub294 client\uac00 \ub418\uc5b4\uc57c \ud558\ubbc0\ub85c spring-cloud-config-client \ub610\ub294 spring-cloud-starter-config package\uac00 \ud544\uc694."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-config-server</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uadf8 \ub2e4\uc74c\uc73c\ub85c\ub294 entrypoint\uac00 \ub418\ub294 Application class\uc5d0 @EnableConfigServer\ub9cc \ucd94\uac00\ud558\uc790."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"@EnableConfigServer\n@SpringBootApplication\npublic class ConfigServerApplication {\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(ConfigServerApplication.class, args);\n\t}\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uc9c0\uae08\uc740 \ub2e4\ub978 \ub3d9\uc791\uc744 \uc218\ud589\ud560 \ud544\uc694\uac00 \uc5c6\uae30 \ub54c\ubb38\uc5d0 properties\ub9cc \uc870\uae08 \ucd94\uac00\ud574\uc8fc\uba74 \uc644\ub8cc."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"server.port=8888\nspring.cloud.config.server.git.uri=https://github.com/blurblah/zuul-demo.git\nspring.cloud.config.server.git.search-paths=configurations\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uc124\uc815\uc5d0\uc11c \uc911\uc694\ud55c \uac83\uc740 spring.cloud.config.server.git.uri \ud56d\ubaa9\uc774\ub2e4. Spring cloud config\ub294 \uc124\uc815 \ub0b4\uc6a9\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 backend\ub85c git, file system, vault, jdbc \ub4f1\uc744 \uc9c0\uc6d0\ud560 \uc218 \uc788\uac8c \ud574\ub450\uc5c8\ub294\ub370 \uc0ac\uc2e4 \uac04\ub2e8\ud55c\uac8c \uc2dc\uc791\ud560 \uc218 \uc788\ub294\uac74 local file\uc774\uc9c0\ub9cc \uc5b4\ucc28\ud53c \ub370\ubaa8 \ud504\ub85c\uc81d\ud2b8\ub97c \uc800\uc7a5\uc18c\uc5d0 \ub4f1\ub85d\ud574 \ub450\uc5b4\uc11c git\uc73c\ub85c \uc9c4\ud589\ud588\ub2e4. Vault \uae4c\uc9c0\ub294 \ud544\uc694\uac00 \uc5c6\uc744\uc218\ub3c4 \uc788\uc744 \uac83 \uac19\uc740\ub370 DB\ub85c \uad00\ub9ac\ud558\ub294 \uac74 \uc2dc\ub3c4\ud574\ubcfc \uc0dd\uac01. \uc800\uc7a5\uc18c\ub098 \ud30c\uc77c\ub85c \uc124\uc815\ud30c\uc77c\uc744 \uad00\ub9ac\ud560 \uacbd\uc6b0 config client\uac00 server\uc5d0 \uc5f0\uacb0\ud574\uc11c \uac00\uc838\uac00\uac8c \ub420 \uc124\uc815\ud30c\uc77c\uc740 \ubcf4\ud1b5 \uc774\ub807\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:"application.properties (yml \uac00\ub2a5)"}),"\n",(0,i.jsx)(n.p,{children:"${spring.application.name}.properties (\uc5ed\uc2dc yml \uac00\ub2a5\ud558\uace0 client\uc758 name\uc5d0 \ub530\ub77c \ud30c\uc77c\uba85\uc774 \ub2ec\ub77c\uc9d0)"}),"\n",(0,i.jsxs)(n.p,{children:["\uc5ec\uae30\uc11c application.properties\ub294 \ubaa8\ub4e0 client\uac00 \ucc38\uc870\ud558\uac8c \ub418\ubbc0\ub85c \uacf5\ud1b5 \uc18d\uc131\ub4e4\uc744 \ub123\uc5b4\ub450\uba74 \uc88b\ub2e4. \uc704 \ub450 \uac00\uc9c0 \uc774\uc678\uc5d0\ub3c4 active profile \uc774\ub984\uc5d0 \ub530\ub77c\uc11c\ub3c4 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc73c\ub2c8 \uc0c1\uc138 \ub0b4\uc6a9\uc740 ",(0,i.jsx)(n.a,{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.0.0.M9/single/spring-cloud-config.html",children:"\ubb38\uc11c"}),"\ub97c \ucc38\uace0\ud558\uc790. \uc5ec\uae30\uc11c\ub294 Zuul proxy\ub85c \uc0ac\uc6a9\ud560 application\ub9cc config client\ub85c \ub3d9\uc791\uc2dc\ud0ac\uac70\ub77c \uc800\uc7a5\uc18c\uc5d0\ub294 \uac04\ub2e8\ud558\uac8c gateway.properties \ud30c\uc77c\ub9cc \ucd94\uac00\ud574\ub450\uc5c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Gateway"})}),"\n",(0,i.jsx)(n.p,{children:"Zuul\ub97c \uc0ac\uc6a9\ud55c \uac04\ub2e8\ud55c API gateway\ub3c4 config server\ucc98\ub7fc \uac04\ub2e8\ud558\uac8c \uc2dc\uc791\ud574\ubcfc \uc218 \uc788\ub2e4. \uc6b0\uc120 dependency\uc5d0 \uc544\ub798 \ub450\uac00\uc9c0\ub97c \ucd94\uac00\ud574\uc8fc\uace0, (\uc704\uc5d0 \uae30\uc220\ud588\ub4ef\uc774 \uc124\uc815\uc744 config server\uc5d0\uc11c \ubc1b\uc544\uc62c \uac83\uc774\uae30 \ub54c\ubb38\uc5d0 config server \uc785\uc7a5\uc5d0\uc11c\ub294 client\uac00 \ub418\uc5b4\uc57c \ud55c\ub2e4)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-netflix-zuul</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.cloud</groupId>\n    <artifactId>spring-cloud-starter-config</artifactId>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Zuul \uc0ac\uc6a9\uc744 \uc704\ud574 @EnableZuulProxy annotation\uc744 \ucd94\uac00\ud55c\ub2e4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"@EnableZuulProxy\n@SpringBootApplication\npublic class GatewayApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(GatewayApplication.class, args);\n\t}\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\ub2e4\uc74c\uc73c\ub85c\ub294 \uc5ed\uc2dc properties\ub9cc \ucd94\uac00\ud558\uba74 \ub418\ub294\ub370 \ubcf4\ud1b5 \uae30\ubcf8\uc73c\ub85c \uc874\uc7ac\ud558\ub294 application.properties \ub300\uc2e0 bootstrap.properties\ub97c \ucd94\uac00\ud574\uc11c \uc0ac\uc6a9\ud574\uc57c \ud55c\ub2e4. application.properties\ub294 spring boot application\uc774 \ub85c\ub4dc\ub41c \uc774\ud6c4\uc5d0 \uc124\uc815\uc744 \uc77d\uc5b4\uc624\uac8c \ub418\uace0 application\uc758 bootstrap \uacfc\uc815\uc5d0\uc11c\ub294 bootstrap.properties\ub97c \uc77d\uc5b4\ub4e4\uc774\uac8c \ub418\uae30 \ub54c\ubb38. bootstrap.properties \ud30c\uc77c\uc5d0\uc11c application name\uc744 \uc9c0\uc815(config server\uc5d0\uc11c \uc77d\uc5b4\ub4e4\uc77c properties \ud30c\uc77c\uc744 \ud2b9\uc815\ud558\uae30 \uc704\ud574 \ud544\uc694)\ud558\uace0 config server\uc758 uri\ub97c \ucd94\uac00\ud55c\ub2e4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"spring.application.name=gateway\nspring.cloud.config.uri=http://localhost:8888\n\nmanagement.endpoints.web.exposure.include=*\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Config server \uc5ed\uc2dc \uac19\uc740 host\uc5d0\uc11c \ub3cc\ub9b4 \uac83\uc774\uace0 port\ub294 8888\ub85c \ub744\uc6b0\uac8c \ud574\ub450\uc5c8\uae30 \ub54c\ubb38\uc5d0 localhost:8888\ub85c config server \uc704\uce58\ub97c \uc7a1\uc544\uc8fc\uc5c8\ub2e4. \ub9c8\uc9c0\ub9c9\uc5d0 \uc788\ub294 endpoint exposure \uc124\uc815\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \ud544\uc694\ud55c \uac83\ub4e4\ub9cc \uc5f4\uc5b4\ub450\ub294\uac8c \ub9de\uc9c0\ub9cc \ud14c\uc2a4\ud2b8 \uc6a9\ub3c4\uc774\ub2c8 \ubaa8\ub450 \uc5f4\uc5b4\ub454\ub2e4. Zuul proxy \ud639\uc740 spring-cloud-starter-config\uc5d0 dependency\uac00 \uac78\ub824\uc788\ub294 \uac83\uc778\uc9c0 Actuator\uac00 \uae30\ubcf8\uc73c\ub85c \ud3ec\ud568\ub418\uc5b4 \uc788\ub294 \ub4ef \ud55c\ub370 (\uc5c6\uc73c\uba74 \ucd94\uac00\ud558\ub824\uace0 \ud588\uc5c8\uc74c. \ub098\uc911\uc5d0 ",(0,i.jsx)(n.a,{href:"https://github.com/spring-cloud/spring-cloud-config/blob/v2.0.0.M9/spring-cloud-config-server/pom.xml",children:"Spring cloud server \uc800\uc7a5\uc18c"}),"\ub97c \ucc3e\uc544\ubcf4\ub2c8 dependency\ub85c Actuator\uac00 \uc7a1\ud600\uc788\ub2e4), \ub098\uc911\uc5d0 /actuator/refresh \ub77c\ub294 endpoint\ub97c \uc0ac\uc6a9\ud560\uac70\ub77c \ubaa8\ub450 \uc5f4\uc5b4\ub450\uc5c8\ub2e4. (\uae30\ubcf8\uc73c\ub85c\ub294 /actuator/refresh\uac00 \ub9e4\ud551\ub418\uc9c0 \uc54a\uc74c)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. \uae30\ud0c0"})}),"\n",(0,i.jsx)(n.p,{children:"Zuul\uc758 routing \uc124\uc815\uc774 dynamic \ud558\uac8c \ubcc0\uacbd\ub418\ub294 \uac78 \uc2e4\ud5d8\ud560\uac70\ub77c routing \ud560 backend application\uc744 \ub9cc\ub4e4\uc5b4\uc900\ub2e4. \ub098\uc758 \uacbd\uc6b0\uc5d4 \ub2e8\uc21c\ud558\uac8c Service A\ub77c\ub294 \ubb38\uc790\uc5f4\uc744 \ub9ac\ud134\ud558\ub294 REST API \ud558\ub098\uc640 Service B\ub97c \ub9ac\ud134\ud558\ub294 API\ub97c \uc81c\uacf5\ud558\ub294 \uc11c\ube44\uc2a4\uae4c\uc9c0 \ub450 \uac1c\uc758 spring boot application\uc744 \ub9cc\ub4e4\uc5b4\ub450\uc5c8\ub2e4. \uc800\uc7a5\uc18c\uc758 a-service \ubaa8\ub4c8\uc740 8081 port\ub97c, b-service \ubaa8\ub4c8\uc740 8082 port\ub97c listen \ud558\ub3c4\ub85d \ub418\uc5b4\uc788\ub2e4. \uadf8\ub9ac\uace0 config server\uac00 \uad00\ub9ac\ud558\ub294 \uc124\uc815\ud30c\uc77c (\uc800\uc7a5\uc18c\uc758 configurations/gateway.properties)\uc5d0\ub294 \uc6b0\uc120 a-service\ub9cc \ub77c\uc6b0\ud305\ud558\ub3c4\ub85d \uc124\uc815."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"## gateway.properties ##\nzuul.routes.aservice.url=http://localhost:8081\n#zuul.routes.bservice.url=http://localhost:8082\n"})}),"\n",(0,i.jsx)(n.h3,{id:"run",children:"Run!"}),"\n",(0,i.jsx)(n.p,{children:"Config server\ub97c \uba3c\uc800 \uc2e4\ud589\uc2dc\ud0a4\uace0, gateway\uc640 \ub2e4\ub978 backend application 2\uac1c\ub97c \ubaa8\ub450 \ub3d9\uc791\uc2dc\ucf1c\ubcf8\ub2e4. \uc2dc\ud5d8\uc0bc\uc544 \uc124\uc815\ud30c\uc77c\uc774 \uc81c\ub300\ub85c \ub85c\ub4dc\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uc790. \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc config server\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0b4\uba74 \uc124\uc815\uc5d0 \ub300\ud55c \uc751\ub2f5\uc774 \ub0a0\ub77c\uc624\uac8c \ub41c\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2018/03/config-server-properties.png",children:(0,i.jsx)(n.img,{src:r(88686).A+"",width:"585",height:"452"})})}),"\n",(0,i.jsx)(n.p,{children:"Request url\uc740 \uc5ec\ub7ec\uac00\uc9c0 format\uc774 \uc788\uc9c0\ub9cc /${spring.application.name}/${spring.profiles.active} \uc774\ub7f0 \ud615\ud0dc\ub85c\ub9cc \uac04\ub2e8\ud788 \uc368\ub3c4 \ub41c\ub2e4. Application name\uc774 gateway\uc774\uace0 active profile\uc740 \ub530\ub85c \uc9c0\uc815\ud55c\uac8c \uc5c6\uc73c\ub2c8 default\ub85c \ub123\uc73c\uba74 config server\uac00 \uad00\ub9ac\ud558\ub294 \uc124\uc815\ud30c\uc77c \uc911 gateway.properties\uc758 \ub0b4\uc6a9\uc744 \ubcf4\uc5ec\uc900\ub2e4. Properties \ud30c\uc77c\uc5d0\ub294 \ud604\uc7ac a-service\uc5d0 \ub300\ud55c routing \uc124\uc815\ub9cc \ub418\uc5b4\uc788\uc73c\ubbc0\ub85c Zuul\uc774 \uc81c\ub300\ub85c \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778\ud558\uae30 \uc704\ud574 zuul\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0b8\ub2e4. \ud604\uc7ac routing\uc758 \uc774\ub984\uc774 aservice\ub77c\uace0 \ub418\uc5b4\uc788\uc73c\ub2c8 localhost:8080/aservice\ub97c \uc694\uccad\ud558\uba74 a-service\uc5d0 \uc815\uc758\ub41c API\uac00 \ud638\ucd9c\ub418\uc5b4\uc57c \ud558\ub294\uac8c \uc815\uc0c1. \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc Zuul\uc744 \ud1b5\ud574 a-service routing\uc740 \uc815\uc758\ub41c\ub300\ub85c \ub3d9\uc791\ud558\uc9c0\ub9cc b-service\uc5d0 \ub300\ud55c \uc694\uccad\uc740 routing \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 404 \uc751\ub2f5\uc774 \ub0a0\ub77c\uc628\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2018/03/call_a_service-1.png",children:(0,i.jsx)(n.img,{src:r(91676).A+"",width:"585",height:"452"})})}),"\n",(0,i.jsx)(n.p,{children:"\uc704\uc5d0\uc11c \uae30\uc220\ud55c\ub300\ub85c Zuul\uc5d0 route filter\ub97c \ucd94\uac00\ud574\uc11c \ub3d9\uc801\uc73c\ub85c \ub85c\ub4dc\ub418\uac8c \ud558\uac70\ub098, route \uc124\uc815\uc744 \ucd94\uac00\ud574\uc11c \ucc98\ub9ac\ud55c\ub2e4\uba74 gateway\ub97c \ub2e4\uc2dc packaging \ud574\uc11c \ubc30\ud3ec\ud558\ub294 \ubc29\ubc95\uc744 \uc368\uc57c \ud55c\ub2e4. (\ub610\ub294 \uc0c8\ub85c\uc6b4 API\ub97c \uc815\uc758\ud574 \uc0ac\uc6a9\ud558\ub294 \ub4f1\uc758 \ub2e4\ub978 \ubc29\ubc95\ub3c4 \uc788\uc744 \uc218 \uc788\ub2e4) \ud558\uc9c0\ub9cc config server\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc73c\ubbc0\ub85c \uac04\ub2e8\ud558\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\ub2e4. \uc6b0\uc120 config server\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 gateway.properties (\uc800\uc7a5\uc18c\uc5d0 \uc788\ub294) \ud30c\uc77c\uc5d0 b-service\uc5d0 \ub300\ud55c routing url \uc815\ubcf4\ub97c \ucd94\uac00\ud574\uc11c commit / push \ud55c\ub2e4. (Github\uc5d0 \uc788\uc73c\ubbc0\ub85c browser\uc5d0\uc11c \uc9c1\uc811 \uc218\uc815\ud574\uc11c \ucc98\ub9ac\ud574\ub3c4 \ub41c\ub2e4.) \uc774\ud6c4\uc5d0 config server\uac00 \ubcc0\uacbd\ub41c gateway.properties \ud30c\uc77c\uc744 \uc81c\ub300\ub85c \ubc14\ub77c\ubcf4\uace0 \uc788\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uc790. \uc544\uae4c\ucc98\ub7fc config server\uc5d0 \uc694\uccad\uc744 \ubcf4\ub0b4\ubcf4\uba74 \uc544\ub798 \uadf8\ub9bc\ucc98\ub7fc \ucd94\uac00\ub41c b-service\uc5d0 \ub300\ud55c routing url \uc815\ubcf4\uae4c\uc9c0 \ubcfc \uc218 \uc788\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2018/03/config-server-added-routing.png",children:(0,i.jsx)(n.img,{src:r(49414).A+"",width:"585",height:"452"})})}),"\n",(0,i.jsx)(n.p,{children:"Config server\uc5d0\uc11c\ub294 \ubcc0\uacbd\ub41c \uc124\uc815\uc744 \uac16\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 Zuul \ucabd\ub3c4 \ubc14\ub010 \uc124\uc815\ub300\ub85c \ubc14\ub85c \ub3d9\uc791\ud558\uae30\ub97c \uae30\ub300\ud560 \uc218\ub3c4 \uc788\uc9c0\ub9cc \uc2e4\uc81c \ub3d9\uc791\uc740 \uadf8\ub807\uc9c0 \uc54a\ub2e4. \ud558\ub098\uc758 \uc548\uc804\uc7a5\uce58\ub85c \uc0dd\uac01\ud560\uc218\ub3c4 \uc788\ub294\ub370 actuator\ub97c \ud1b5\ud55c refresh \uc694\uccad\uc744 Zuul\uc5d0 \ub0a0\ub824\uc918\uc57c \ubcc0\uacbd\ub41c \uc124\uc815\uac12\uc744 \ubc18\uc601\ud558\uac8c \ub41c\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://13.125.231.217/wp-content/uploads/2018/03/zuul-refresh.png",children:(0,i.jsx)(n.img,{src:r(53180).A+"",width:"585",height:"452"})})}),"\n",(0,i.jsx)(n.p,{children:"\uc704 \uadf8\ub9bc\ucc98\ub7fc refresh \uba85\ub839\uc744 POST\ub85c \ub0a0\ub824\uc8fc\uba74 \ubcc0\uacbd\ub41c \uc124\uc815\uc5d0 \ub300\ud55c \uac04\ub7b5\ud55c \uc815\ubcf4\uac00 \ud45c\uc2dc\ub418\uace0 \uadf8 \uc774\ud6c4\uc5d0 Zuul\uc5d0 b-service\uc5d0 \ub300\ud55c \uc694\uccad\uc744 \ubcf4\ub0b4\ubcf4\uba74 \uacb0\uacfc\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4. Refresh\ub294 Zuul\uc5d0 \ub530\ub85c \uc815\uc758\ud55c \uc801\uc774 \uc5c6\uc9c0\ub9cc actuator\ub97c \ud1b5\ud574 \ub3d9\uc791\uc774 \ub41c\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c\ub294 bean\uc774\ub098 \uc6d0\ud558\ub294 component\uc5d0 @RefreshScope\uc744 \uc9c0\uc815\ud574\uc11c \uc6d0\ud558\ub294 bean\ub9cc \uc6d0\ud558\ub294 \uc2dc\uc810\uc5d0 reload \ud574\uc11c \uc0ac\uc6a9\ud55c\ub2e4."}),"\n",(0,i.jsx)(n.h3,{id:"\uc815\ub9ac\ud558\uba74",children:"\uc815\ub9ac\ud558\uba74..."}),"\n",(0,i.jsx)(n.p,{children:"Config server\ub97c \ud1b5\ud574 Zuul\uc758 routing \uc124\uc815 \ubcc0\uacbd\uc744 package \ub0b4\uc758 \ucf54\ub4dc \ud55c \uc904 \ubc14\uafb8\uc9c0 \uc54a\uace0 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4. \ucf54\ub4dc\uac00 \ubc14\ub00c\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc2dc build \ud560 \ud544\uc694\ub3c4, \ubc30\ud3ec\ud560 \ud544\uc694\ub3c4 \uc5c6\uc5b4\uc11c \uac04\ud3b8\ud558\uac8c \uc0ac\uc6a9\ud558\uae30 \uc88b\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4. \ubb3c\ub860 /actuator/refresh\ub97c \ud638\ucd9c\ud558\uae30 \uc704\ud574 endpoint\ub97c \ub2e4 \uc5f4\uc5b4\ub454 \uac83\ub3c4 \ubb38\uc81c\uc774\uace0 properties \ub0b4\uc758 \uc124\uc815\uc5d0 \ubbfc\uac10\ud55c \ub0b4\uc6a9\uc774 \ud3ec\ud568\ub420 \uac00\ub2a5\uc131\uc774 \ub9ce\uae30 \ub54c\ubb38\uc5d0 \uacf5\uac1c \uc800\uc7a5\uc18c\ub97c \uc774\uc6a9\ud558\ub294 \ubc29\uc2dd\uc5d0\ub3c4 \ubb38\uc81c\uac00 \uc788\ub2e4. Endpoint \ub178\ucd9c\uacfc \uad00\ub828\ud574\uc11c\ub294 \uac04\ub2e8\ud55c \ud615\ud0dc\ubd80\ud130 \uc870\uae08 \uace0\uae09\uc9c4 \ud615\ud0dc\uc758 \uc778\uc99d\uae4c\uc9c0 \ubcf4\uc644\ucc45\ub4e4\uc774 spring \ubb38\uc11c\uc5d0 \uae30\uc220\ub418\uc5b4 \uc788\uace0, properties \ud30c\uc77c\uc5d0 \ub300\ud55c \uad00\ub9ac\ub294 \uc800\uc7a5\uc18c \ud615\ud0dc \ubcf4\ub2e4\ub294 \ub2e4\ub978 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud558\ub294\uac8c \ub0ab\uaca0\ub2e4\ub294 \uc0dd\uac01\uc744 \ud558\uace0 \uc788\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:"Discovery \uc11c\ube44\uc2a4\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 Eureka (\uc5ed\uc2dc Netflix OSS)\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\uba74 \uc880 \ub354 \uc7ac\ubbf8\uc788\uace0 \uc720\uc6a9\ud55c \uae30\ub2a5\ub4e4\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub294\ub370, config server\ub97c Eureka\uc5d0 \ub4f1\ub85d\ud574\uc11c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\ub3c4 \uc788\ub2e4. Eureka\uc5d0 config server\ub97c \ub4f1\ub85d\ud558\uac8c \ub418\uba74 config client\uc778 application\ub4e4\uc774 config server\uc758 uri\ub97c \uace0\uc815\ud560 \ud544\uc694\uac00 \uc0ac\ub77c\uc9c0\ub294\ub370 \uc911\uac04\uc5d0 Eureka\ub97c \ud55c \ubc88 \ub354 \uac70\uce58\uac8c \ub418\ub294 \uac83\uc5d0 \ub300\ud55c \uc190\ud574\ub294 \uc788\uc9c0\ub9cc config server\uc758 \uc7ac\ubc30\uce58\ub098 \ucd94\uac00, \ubcc0\uacbd\uc5d0 \ub530\ub978 client \ucabd \ucd94\uac00 \uc791\uc5c5\uc774 \uc0ac\ub77c\uc9c0\uac8c \ub418\ubbc0\ub85c \ub354 \uc720\uc5f0\ud55c \uad6c\uc131\uc774 \uac00\ub2a5\ud560 \uc218 \uc788\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:"Eureka\ub97c Zuul\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \uac83\uc5d0 \ub300\ud574\uc11c\ub3c4 \ucd94\uac00\ub85c \uc815\ub9ac\ud574\ubcfc \uc0dd\uac01\uc774\ub2e4."}),"\n",(0,i.jsx)(n.p,{children:"\xa0"}),"\n",(0,i.jsxs)(n.p,{children:["\ucc38\uace0 #1 :\xa0",(0,i.jsx)(n.a,{href:"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.0.0.M9/single/spring-cloud-config.html",children:"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.0.0.M9/single/spring-cloud-config.html"})]}),"\n",(0,i.jsxs)(n.p,{children:["\ucc38\uace0 #2 :\xa0",(0,i.jsx)(n.a,{href:"https://medium.com/netflix-techblog/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c",children:"https://medium.com/netflix-techblog/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c"})]}),"\n",(0,i.jsxs)(n.p,{children:["\ucc38\uace0 #3 :\xa0",(0,i.jsx)(n.a,{href:"http://kerberosj.tistory.com/228",children:"http://kerberosj.tistory.com/228"})]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},91676:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/call_a_service-1-73249cb6efb847fe4f12207e3806acae.png"},49414:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/config-server-added-routing-b966352ecc99b43b6b9ba8eaeedb9912.png"},88686:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/config-server-properties-abdba47a3ec37bb6436714775aedba1a.png"},53180:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/zuul-refresh-8eb0995b53c57702bdc79bc0d75e7e45.png"},14522:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/zuul_architecture-20875fcf3a7e295af5fe037819631ce3.png"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var i=r(96540);const t={},o=i.createContext(t);function l(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);