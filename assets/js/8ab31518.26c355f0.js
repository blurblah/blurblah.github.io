"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[99338],{26003:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=o(74848),i=o(28453);const a={title:"MyBatis\uc640 \uc2f8\uc6b0\uba74\uc11c \uc5bb\uc740 \uac83\ub4e4",date:"2016-04-18",categories:["java"],tags:["azure","idletimeoutinminutes","mybatis","poolpingconnectionsnotusedfor","poolpingenabled","poolpingquery","socket-timeout"]},s=void 0,l={permalink:"/2016/04/18/wp/mybatis\uc640-\uc2f8\uc6b0\uba74\uc11c-\uc5bb\uc740-\uac83\ub4e4",source:"@site/blog/wp/2016-04-18-mybatis\uc640-\uc2f8\uc6b0\uba74\uc11c-\uc5bb\uc740-\uac83\ub4e4.md",title:"MyBatis\uc640 \uc2f8\uc6b0\uba74\uc11c \uc5bb\uc740 \uac83\ub4e4",description:"Java\ub85c \uac04\ub2e8\ud55c console application\uc744 \ub9cc\ub4e4\ub2e4\uac00 \uc774\uc0c1\ud55c \ubb38\uc81c\ub4e4\uc744 \ub9c8\uc8fc\ud558\uac8c \ub418\uc5c8\ub2e4. \xa0\uadf8 \uc911 \ud558\ub098\ub294 DB \uc5f0\uacb0\uc774 \uacc4\uc18d \ub04a\uc5b4\uc9c0\ub294 \ud604\uc0c1. \ud604\uc7ac \uc2dc\uc810\uc5d0\uc11c\ub3c4 DB\uc5d0 \uac00\ud574\uc9c0\ub294 \ubd80\ud558\ub294 \uc815\ub9d0 \uc791\uc740 \uc218\uc900\uc774\uc5c8\uae30 \ub54c\ubb38\uc5d0 \ud2b9\ubcc4\ud788 tuning\ud560 \uc774\uc720\ub294 \uc5c6\uc5c8\uace0 \ud37c\ud3ec\uba3c\uc2a4\uc640 \uad00\ub828\ud574\uc11c\ub294 \uae30\ubcf8 \uc124\uc815\uac12\uc73c\ub85c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\ub294\ub370 \ub04a\uc5b4\uc9c0\ub294 \uc774\uc720\ub97c \uc54c \uc218\uac00 \uc5c6\uc5c8\ub2e4. (MySQL 5.5\uc758 default wait\\_timeout\uc740 8\uc2dc\uac04)",date:"2016-04-18T00:00:00.000Z",formattedDate:"April 18, 2016",tags:[{label:"azure",permalink:"/tags/azure"},{label:"idletimeoutinminutes",permalink:"/tags/idletimeoutinminutes"},{label:"mybatis",permalink:"/tags/mybatis"},{label:"poolpingconnectionsnotusedfor",permalink:"/tags/poolpingconnectionsnotusedfor"},{label:"poolpingenabled",permalink:"/tags/poolpingenabled"},{label:"poolpingquery",permalink:"/tags/poolpingquery"},{label:"socket-timeout",permalink:"/tags/socket-timeout"}],readingTime:4.525,hasTruncateMarker:!1,authors:[],frontMatter:{title:"MyBatis\uc640 \uc2f8\uc6b0\uba74\uc11c \uc5bb\uc740 \uac83\ub4e4",date:"2016-04-18",categories:["java"],tags:["azure","idletimeoutinminutes","mybatis","poolpingconnectionsnotusedfor","poolpingenabled","poolpingquery","socket-timeout"]},unlisted:!1,prevItem:{title:"Ceph\uc744 \uc124\uce58\ud574\ubcf4\uc790",permalink:"/2016/08/02/wp/ceph\uc744-\uc124\uce58\ud574\ubcf4\uc790"},nextItem:{title:"\ub355\ub9cc\uc774 \uc7a0\ub4e0 \uc2dc\uac04\uc5d0 - python socket\uc73c\ub85c IP \uc5bb\uae30",permalink:"/2016/03/18/wp/\ub355\ub9cc\uc774-\uc7a0\ub4e0-\uc2dc\uac04\uc5d0-python-socket\uc73c\ub85c-ip-\uc5bb\uae30"}},r={authorsImageUrls:[]},c=[{value:"<strong>1. \ud658\uacbd</strong>",id:"1-\ud658\uacbd",level:4},{value:"<strong>2. Azure\uc5d0 idle timeout\uc774 \uc788\ub2e4</strong>",id:"2-azure\uc5d0-idle-timeout\uc774-\uc788\ub2e4",level:4},{value:"<strong>3. Pool ping\uc5d0 \ub300\ud55c \uc798\ubabb\ub41c \uc18c\ubb38</strong>",id:"3-pool-ping\uc5d0-\ub300\ud55c-\uc798\ubabb\ub41c-\uc18c\ubb38",level:4},{value:"<strong>4. \uacb0\ub860</strong>",id:"4-\uacb0\ub860",level:4},{value:"5. \ucc38\uace0",id:"5-\ucc38\uace0",level:4}];function p(e){const t={a:"a",h4:"h4",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Java\ub85c \uac04\ub2e8\ud55c console application\uc744 \ub9cc\ub4e4\ub2e4\uac00 \uc774\uc0c1\ud55c \ubb38\uc81c\ub4e4\uc744 \ub9c8\uc8fc\ud558\uac8c \ub418\uc5c8\ub2e4. \xa0\uadf8 \uc911 \ud558\ub098\ub294 DB \uc5f0\uacb0\uc774 \uacc4\uc18d \ub04a\uc5b4\uc9c0\ub294 \ud604\uc0c1. \ud604\uc7ac \uc2dc\uc810\uc5d0\uc11c\ub3c4 DB\uc5d0 \uac00\ud574\uc9c0\ub294 \ubd80\ud558\ub294 \uc815\ub9d0 \uc791\uc740 \uc218\uc900\uc774\uc5c8\uae30 \ub54c\ubb38\uc5d0 \ud2b9\ubcc4\ud788 tuning\ud560 \uc774\uc720\ub294 \uc5c6\uc5c8\uace0 \ud37c\ud3ec\uba3c\uc2a4\uc640 \uad00\ub828\ud574\uc11c\ub294 \uae30\ubcf8 \uc124\uc815\uac12\uc73c\ub85c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\ub294\ub370 \ub04a\uc5b4\uc9c0\ub294 \uc774\uc720\ub97c \uc54c \uc218\uac00 \uc5c6\uc5c8\ub2e4. (MySQL 5.5\uc758 default wait_timeout\uc740 8\uc2dc\uac04)"}),"\n",(0,n.jsx)(t.h4,{id:"1-\ud658\uacbd",children:(0,n.jsx)(t.strong,{children:"1. \ud658\uacbd"})}),"\n",(0,n.jsx)(t.p,{children:"Application \ub3d9\uc791\uc758 \ud750\ub984\uc740 DB select, \ud2b9\uc815 \ud589\uc704, DB update \uc21c\uc11c\uc600\ub294\ub370 \ud2b9\uc815\ud55c \uae30\ub2a5\uc744 \uc218\ud589\ud558\ub294\uac8c \uae38\uac8c\ub294 20\ubd84 \uc815\ub3c4 \ud639\uc740 \uadf8 \uc774\uc0c1 \uc18c\uc694\ub418\ub294 \uacbd\uc6b0\uac00 \uc788\uc5c8\uace0 \ud3b8\uc758\ub97c \uc704\ud574 MyBatis\ub97c \uc0ac\uc6a9\ud588\uc73c\uba70 pool\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud574 \ub450\uc5c8\ub2e4. \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc9c0\ub294 \ud604\uc0c1\uc744 \ubcf4\uace0 poolPingQuery, poolPingEnabled\ub97c \uc124\uc815\ud574 \ubd24\ub294\ub370 \ub9c8\ucc2c\uac00\uc9c0."}),"\n",(0,n.jsx)(t.h4,{id:"2-azure\uc5d0-idle-timeout\uc774-\uc788\ub2e4",children:(0,n.jsx)(t.strong,{children:"2. Azure\uc5d0 idle timeout\uc774 \uc788\ub2e4"})}),"\n",(0,n.jsx)(t.p,{children:"\uc6b0\uc120\uc740 MyBatis \uc124\uc815\uacfc \ubcc4\uac1c\ub85c \uc65c DB\uc5f0\uacb0\uc774 \ub04a\uc5b4\uc9c0\ub294\uc9c0 \uad81\uae08\ud574\uc84c\ub2e4. DB\uc640\uc758 \uc5f0\uacb0\uc740 \uc5b4\ucc28\ud53c socket\uc744 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 DB\uc640 application \uc0ac\uc774\uc758 \ud1b5\uc2e0\uc5d0 \uc601\ud5a5\uc744 \uc904 \uc218 \uc788\ub294 \uac83\ub4e4\uc740 \ub9ce\ub2e4. MyBatis \uc544\ub798\uc758 JDBC, Kernel\uc758 socket timeout, \uacf5\uc720\uae30 \uc124\uc815 \ub4f1\uc744 \uc0b4\ud3b4\ubd24\ub294\ub370 \ud2b9\uc774\ud55c \ub0b4\uc6a9\uc740 \ubc1c\uacac\ud560 \uc218 \uc5c6\uc5c8\ub2e4."}),"\n",(0,n.jsx)(t.p,{children:"\ub2e4\uc74c\uc73c\ub85c Azure\uc5d0 \uc5b4\ub5a4 \ud2b9\uc131\uc774 \uc788\uc9c0 \uc54a\uc744\uae4c \uc2f6\uc5b4\uc11c \uc54c\uc544\ubcf4\ub2c8 \ub530\ub85c idle timeout\uc774 \uc788\ub2e4\uace0 \ud55c\ub2e4. \uae30\ubcf8\uac12\uc774 4\ubd84\uc774\ub77c\uace0 \ud558\ub294\ub370 \ud14c\uc2a4\ud2b8\ud55c \ub0b4\uc6a9\uacfc \uc815\ud655\ud788 \ub9de\ub294\ub2e4. (\uac15\uc81c\ub85c sleep \uc2dc\uac04\uc744 \ub298\ub824\uac00\uba70 \ud14c\uc2a4\ud2b8\ud574\ubcf4\ub2c8 3\ubd84\uae4c\uc9c0\ub294 \ubb38\uc81c\uac00 \uc5c6\uc5c8\uace0 4\ubd84\ubd80\ud130 \uc5f0\uacb0\uc774 \ub04a\uae40\uc744 \ud655\uc778) \uc774\ub7f0 \ub0b4\uc6a9\uc740 Azure \ubb38\uc11c\uc5d0 \uc798 \ubcf4\uc774\uc9c0 \uc54a\uace0 \uc124\uc815 \ub610\ud55c UI\ub85c\ub294 \ubd88\uac00\ub2a5\ud558\ub2e4. PowerShell\ub85c\ub9cc \uac00\ub2a5\ud55c\ub370 \ud604\uc7ac \uc5f4\ub824\uc788\ub294 endpoint\ub97c \ud655\uc778\ud574\ubcf4\uba74 \uacf5\ubc31\uc73c\ub85c \ud45c\uc2dc\ub418\uace0 \uc788\uace0 powershell\ub85c IdleTimeoutInMinutes \uac12\uc744 30\ubd84\uae4c\uc9c0 \ub298\ub9b4 \uc218 \uc788\ub2e4\uace0 \ud55c\ub2e4."}),"\n",(0,n.jsx)(t.h4,{id:"3-pool-ping\uc5d0-\ub300\ud55c-\uc798\ubabb\ub41c-\uc18c\ubb38",children:(0,n.jsx)(t.strong,{children:"3. Pool ping\uc5d0 \ub300\ud55c \uc798\ubabb\ub41c \uc18c\ubb38"})}),"\n",(0,n.jsx)(t.p,{children:"Azure\uc758 idle timeout\uacfc \ubcc4\uac1c\ub85c MyBatis\uc758 poolPing\uc5d0 \ub300\ud574\uc11c \uc0b4\ud3b4\ubcf4\uae30\ub85c \ud588\ub2e4. Pool ping \uc124\uc815 \uc911\uc5d0 poolPingConnectionsNotUsedFor \uac00 \uc788\ub294\ub370 \ubb38\uc11c \uc0c1\uc73c\ub85c\ub294 \ub9c8\uce58 \uc124\uc815\ub41c \uc2dc\uac04\uc5d0 \ud55c\ubc88\uc529 DB\uc5d0 ping\uc73c\ub85c \uc124\uc815\ub41c \ucffc\ub9ac\ub97c \ub0a0\ub824\uc11c \uc5f0\uacb0\uc744 \uc720\uc9c0\ud574\uc904 \uac83\ucc98\ub7fc \ubcf4\uc778\ub2e4. \uad6d\ub0b4\uc758 \ub300\ubd80\ubd84 \ube14\ub85c\uadf8 \ub4f1\uc5d0\uc11c\ub3c4 \ube44\uc2b7\ud558\uac8c \uc124\uba85\ud558\uace0 \uc788\ub2e4. \ud558\uc9c0\ub9cc \uc774 \ub0b4\uc6a9\uc740 \uacf5\uc2dd \ubb38\uc11c\uac00 \uc798\ubabb\ub41c \uac83\uc778\uc9c0 \uc608\uc0c1\ud55c\ub300\ub85c \ub3d9\uc791\ud558\uc9c0 \uc54a\ub294\ub2e4. \uac70\uc758 \ub3d9\uc77c\ud55c \uc758\ubb38\uc744 \uac00\uc9c4 \ud574\uc678 \uc0ac\uc6a9\uc790\uc758 \uae00\uc744 \ubcf4\uae30\ub3c4 \ud588\ub294\ub370 \uc18c\uc2a4\ub97c \ubcf4\uba74 connection pool\uc5d0\uc11c \uc2e4\uc81c connection\uc744 \uaebc\ub0b4\uc624\uac70\ub098 \ub123\uc744 \ub54c\ub9cc connection\uc774 \uc720\ud6a8\ud55c\uc9c0 \ud655\uc778\uc744 \ud558\ub294\ub370 \uc774 \ub54c pool ping\uacfc \uad00\ub828\ub41c \uc791\uc5c5\uc744 \uc218\ud589\ud55c\ub2e4. poolPingConnectionsNotUsedFor\uc5d0 \uc124\uc815\ub41c \uac12\uc740 connection \uc720\ud6a8\uc131\uc744 \ud655\uc778\ud560 \ub54c\ub9cc \uc601\ud5a5\uc744 \uc8fc\uae30 \ub54c\ubb38\uc5d0 pool\uc5d0\uc11c connection\uc744 \uaebc\ub0b4\uc624\uace0 \uc9d1\uc5b4\ub123\ub294 \uc2dc\uc810 \uc774\uc678\uc5d0\ub294 \uc804\ud600 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \uc54a\ub294\ub2e4."}),"\n",(0,n.jsx)(t.h4,{id:"4-\uacb0\ub860",children:(0,n.jsx)(t.strong,{children:"4. \uacb0\ub860"})}),"\n",(0,n.jsx)(t.p,{children:"Azure\ub098 \uae30\ud0c0 \ud658\uacbd\uc5d0 \ub300\ud55c timeout \uac12\uc744 \ub298\ub9ac\ub294 \uac83\uc740 \uc88b\uc740 \ubc29\ubc95\uc740 \uc544\ub2c8\ub77c\uace0 \ubcf8\ub2e4. DB connection\uc744 \uc624\ub798\ub3c4\ub85d \uc720\uc9c0\ud574\uc57c\ub9cc \ud558\ub294 \uc0c1\ud669\uc774\ub77c\uba74 \ubcc4\ub3c4\uc758 \uc7a5\uce58\ub97c \ub450\uc5b4\uc11c connection\uc744 \uc720\uc9c0\ud558\ub3c4\ub85d \uc870\uce58\ud558\uac70\ub098 \uc544\ub2c8\uba74 \uc544\uc608 \ube44\uc6a9\uc774 \uc18c\ubaa8\ub418\ub354\ub77c\ub3c4 \ud544\uc694\ud55c \uc0c1\ud669\uc5d0\uc11c\ub9cc connection\uc744 \ub9fa\uace0 \ub04a\ub294 \uac8c \ub098\uc744 \uac83 \uac19\ub2e4.."}),"\n",(0,n.jsx)(t.h4,{id:"5-\ucc38\uace0",children:"5. \ucc38\uace0"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"(1) MyBatis \uacf5\uc2dd\ubb38\uc11c"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"http://www.mybatis.org/mybatis-3/configuration.html",children:"http://www.mybatis.org/mybatis-3/configuration.html"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"(2) MyBatis \ucc38\uace0 \uc18c\uc2a4"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://github.com/mybatis/mybatis-3/blob/mybatis-3.3.1/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java",children:"https://github.com/mybatis/mybatis-3/blob/mybatis-3.3.1/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"https://github.com/mybatis/mybatis-3/blob/mybatis-3.3.1/src/main/java/org/apache/ibatis/datasource/pooled/PooledConnection.java",children:"https://github.com/mybatis/mybatis-3/blob/mybatis-3.3.1/src/main/java/org/apache/ibatis/datasource/pooled/PooledConnection.java"})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>l});var n=o(96540);const i={},a=n.createContext(i);function s(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);