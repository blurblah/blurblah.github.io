"use strict";(self.webpackChunkblurblah_github_io=self.webpackChunkblurblah_github_io||[]).push([[47793],{92476:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var t=r(74848),n=r(28453);const i={title:"(\uc790\ub3d9\ud654\ub97c \uc704\ud55c) Shell script\ub85c MySQL\uc5d0 insert \ud558\uae30",date:"2014-03-20",categories:["server"],tags:["automation","insert","mysql","script","shell","\uc790\ub3d9\ud654"]},l=void 0,a={permalink:"/2014/03/20/wp/\uc790\ub3d9\ud654\ub97c-\uc704\ud55c-shell-script\ub85c-mysql\uc5d0-insert-\ud558\uae30",source:"@site/blog/wp/2014-03-20-\uc790\ub3d9\ud654\ub97c-\uc704\ud55c-shell-script\ub85c-mysql\uc5d0-insert-\ud558\uae30.md",title:"(\uc790\ub3d9\ud654\ub97c \uc704\ud55c) Shell script\ub85c MySQL\uc5d0 insert \ud558\uae30",description:"\ube4c\ub4dc\uc640 \ubc30\ud3ec\ub97c \uc790\ub3d9\ud654\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud558\ub294 \ub3c4\uc911\uc5d0 Database\uc5d0 data\ub97c \uc4f0\uace0 \uc5c5\ub370\uc774\ud2b8 \ud558\ub294 \uae30\ub2a5\uc774 \ud544\uc694\ud558\uac8c \ub418\uc5c8\ub2e4. \uc774 \uacbd\uc6b0 \uc5ec\ub7ec\uac00\uc9c0 \ubc29\ubc95\uc774 \uc788\uc744 \uc218 \uc788\uc9c0\ub9cc \ucd5c\ub300\ud55c \uac04\ub2e8\ud558\uac8c, \ucd94\uac00 \uac1c\ubc1c\uc5c6\uc774 \uc9c4\ud589\ud558\uace0 \uc2f6\uc5c8\ub2e4. (Shell script\uc5d0\uc11c)",date:"2014-03-20T00:00:00.000Z",formattedDate:"March 20, 2014",tags:[{label:"automation",permalink:"/tags/automation"},{label:"insert",permalink:"/tags/insert"},{label:"mysql",permalink:"/tags/mysql"},{label:"script",permalink:"/tags/script"},{label:"shell",permalink:"/tags/shell"},{label:"\uc790\ub3d9\ud654",permalink:"/tags/\uc790\ub3d9\ud654"}],readingTime:5.755,hasTruncateMarker:!1,authors:[],frontMatter:{title:"(\uc790\ub3d9\ud654\ub97c \uc704\ud55c) Shell script\ub85c MySQL\uc5d0 insert \ud558\uae30",date:"2014-03-20",categories:["server"],tags:["automation","insert","mysql","script","shell","\uc790\ub3d9\ud654"]},unlisted:!1,prevItem:{title:"Raspberry pi \ubb34\uc791\uc815 \uc0ac\uc6a9\ud574\ubcf4\uae30",permalink:"/2014/03/23/wp/raspberry-pi-\ubb34\uc791\uc815-\uc0ac\uc6a9\ud574\ubcf4\uae30"},nextItem:{title:"Amazon S3\uc5d0 upload\ud55c \ud30c\uc77c \uc811\uadfc",permalink:"/2014/02/17/wp/amazon-s3\uc5d0-upload\ud55c-\ud30c\uc77c-\uc811\uadfc"}},p={authorsImageUrls:[]},c=[];function o(e){const s={p:"p",strong:"strong",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"\ube4c\ub4dc\uc640 \ubc30\ud3ec\ub97c \uc790\ub3d9\ud654\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud558\ub294 \ub3c4\uc911\uc5d0 Database\uc5d0 data\ub97c \uc4f0\uace0 \uc5c5\ub370\uc774\ud2b8 \ud558\ub294 \uae30\ub2a5\uc774 \ud544\uc694\ud558\uac8c \ub418\uc5c8\ub2e4. \uc774 \uacbd\uc6b0 \uc5ec\ub7ec\uac00\uc9c0 \ubc29\ubc95\uc774 \uc788\uc744 \uc218 \uc788\uc9c0\ub9cc \ucd5c\ub300\ud55c \uac04\ub2e8\ud558\uac8c, \ucd94\uac00 \uac1c\ubc1c\uc5c6\uc774 \uc9c4\ud589\ud558\uace0 \uc2f6\uc5c8\ub2e4. (Shell script\uc5d0\uc11c)"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"1. \uacfc\uac70\uc5d0 \uc0ac\uc6a9\ud588\ub358 \ubc29\ubc95\ub4e4"})}),"\n",(0,t.jsx)(s.p,{children:"\uac04\ub2e8\ud788 Java\ub85c DB\uc640 connection\uc744 \ub9fa\uace0 CRUD\ub97c \ud558\ub294 \ubaa8\ub4c8\uc744 \uac1c\ubc1c\ud574\uc11c \uc0ac\uc6a9\ud588\ub358 \uc801\uc774 \uc788\ub2e4. Jar\ub85c \ubb36\uc5b4 \ub193\uc73c\uba74 script\uc5d0\uc11c\ub294 jar\uc5d0 parameter\ub9cc \uba87 \uac1c \ub118\uaca8\uc11c \uc2e4\ud589\ud558\uba74 \uac00\ub2a5\ud588\ub2e4. \ud558\uc9c0\ub9cc \ub09c \uadf8 \ub2f9\uc2dc\uc758 \uc18c\uc2a4\ub97c \uac00\uc9c0\uace0 \uc788\uc9c0 \uc54a\uace0 \uac04\ub2e8\ud558\ub354\ub77c\ub3c4 \uac1c\ubc1c\uc744 \ucd94\uac00\ub85c \ud558\uae30\uac00 \uadc0\ucc2e\uc558\ub2e4. \uc2dc\uac04\ub3c4 \uc5c6\uc5c8\uace0."}),"\n",(0,t.jsx)(s.p,{children:"\ub450\ubc88\uc9f8\ub85c groovy script\ub97c \uc0ac\uc6a9\ud588\uc5c8\ub2e4. Groovy \uc790\uccb4\uac00 java\uc640 \uc720\uc0ac\ud55c \ubd80\ubd84\uc774 \ub9ce\uae30 \ub54c\ubb38\uc5d0 \uc791\uc131\uc774 \uc5b4\ub835\uc9c0 \uc54a\uc558\uace0 \uadf8\ub807\uac8c \ub9cc\ub4e4\uc5b4\uc9c4 groovy script\ub97c shell\uc5d0\uc11c \ud638\ucd9c\ud558\ub294 \uac83\ub3c4 \uc5b4\ub835\uc9c0\ub294 \uc54a\ub2e4. \ud558\uc9c0\ub9cc \uc5ed\uc2dc \ucd94\uac00\ub85c script\ub97c \uad6c\ud604\ud558\ub294\uac8c \ubc88\uac70\ub86d\uace0 \uc5b4\ub518\uac00\uc5d0 script\ub97c \ubcf4\uad00\ud558\uace0 \uc0ac\uc6a9\ud574\uc57c \ud55c\ub2e4\ub294\uac8c \ub9c8\uc74c\uc5d0 \uac78\ub838\ub2e4. \ub09c \ub2e8\uc9c0 \ud558\ub098\uc758 shell script\ub85c\ub9cc \ud574\ub2f9 \uae30\ub2a5\uc744 \uad6c\ud604\ud558\uace0 \uc2f6\uc5c8\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc0ac\uc6a9\ud574\ubd24\ub358 \ubc29\ubc95\uc740 REST API\ub97c \uad6c\ud604\ud558\uace0 shell script\uc5d0\uc11c\ub294 curl\uc744 \uc774\uc6a9\ud574 REST API\ub97c \ud638\ucd9c\ud558\ub294 \ubc29\ubc95\uc778\ub370, \uaf64 \uad1c\ucc2e\uc740 \ubc29\ubc95\uc774 \uc544\ub2cc\uac00 \uc0dd\uac01\ud588\uc5c8\uc9c0\ub9cc \uc5ed\uc2dc REST API\ub97c \uad6c\ud604\ud574\uc57c \ud558\ub294 \ubd80\ub2f4\uc774 \uc788\uc5c8\ub2e4. \ud558\uc9c0\ub9cc \ub300\uaddc\ubaa8 \uac1c\ubc1c\uc774 \uc544\ub2c8\ub77c\uba74 node.js\ub85c \ucda9\ubd84\ud788 \ud560\ub9cc\ud558\ub2e4. (\uac04\ub2e8\ud558\uba74 \uac1c\ubc1c\ud558\ub294\ub370 \uadf8\ub9ac \uc624\ub798 \uac78\ub9ac\uc9c0\ub3c4 \uc54a\ub294\ub2e4)"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"2. Command line\uc5d0\uc11c query \uc2e4\ud589\ud558\uae30"})}),"\n",(0,t.jsx)(s.p,{children:"\uadf8\ub3d9\uc548 \uc0ac\uc6a9\ud560 \uc77c\uc774 \uc5c6\uc5c8\uae30 \ub54c\ubb38\uc5d0 MySQL client \uc2e4\ud589\uc635\uc158 \uc911\uc5d0 -e\uac00 \uc788\ub2e4\ub294 \uac78 \uc774\ubc88\uc5d0 \uc54c\uc558\ub2e4. -e \uc635\uc158\uc740 \ub4a4\uc5d0 \uc624\ub294 query \ubb38\uc744 \uc2e4\ud589\ud574\uc8fc\ub294 \uc5ed\ud560\uc744 \ud558\ub294\ub370 \uc774 \uc635\uc158\ub9cc \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 \ub2e8 \ud55c \uc904\uc758 \uba85\ub839\uc73c\ub85c \uc6d0\ud558\ub294 \uae30\ub2a5\uc744 \uc218\ud589\ud558\uac8c \ub9cc\ub4e4 \uc218 \uc788\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"3. Password prompt"})}),"\n",(0,t.jsx)(s.p,{children:"\ud55c \uc904\uc758 \uba85\ub839\uc73c\ub85c \uc6d0\ud558\ub294 \uae30\ub2a5\uc5d0 \uadfc\uc811\ud588\uc9c0\ub9cc \ud56d\uc0c1 password prompt\uac00 \ub728\ub294 \ubb38\uc81c\uc5d0 \ubd09\ucc29\ud588\ub2e4. expect\ub97c \uc0ac\uc6a9\ud558\uac70\ub098 \ud558\uba74 \ub418\uaca0\uc9c0\ub9cc \uadf8\uac83\ubcf4\ub2e4 \uac04\ub2e8\ud55c \ubc29\ubc95\uc744 \uc6d0\ud588\ub2e4. \uadf8\ub9ac\uace0 \ucc3e\uc740\uac8c"}),"\n",(0,t.jsx)(s.p,{children:"mysql -uuser_id -ppassword"}),"\n",(0,t.jsx)(s.p,{children:"-p \uc635\uc158\uc5d0 password\ub97c \ubd99\uc5ec\uc4f0\uba74 \ub530\ub85c \ubb3b\uc9c0 \uc54a\ub294\ub2e4. \uadf8 \uc0ac\uc774\uc5d0 \uacf5\ubc31\uc774 \uc788\ub2e4\uba74 password prompt\ub97c \ub744\uc6b0\ub77c\ub294 \uac78\ub85c \uc778\uc2dd\ud558\uace0 \ub4a4\uc5d0 \uc788\ub294 password\ub97c \uc0ac\uc6a9\ud558\ub824\ub294 DB schema\ub85c \uc778\uc2dd\ud55c\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"4. Inserted id\ub97c \uc54c\uace0 \uc2f6\uc5b4\uc694"})}),"\n",(0,t.jsx)(s.p,{children:"\ub610 \ub2e4\ub978 \ubb38\uc81c. DB\uc5d0 insert \ud558\uace0 \ud2b9\uc815 \uc791\uc5c5 \uc774\ud6c4\uc5d0 insert\ub41c \ub808\ucf54\ub4dc\ub97c update \ud574\uc57c \ud588\ub294\ub370 id \uc774\uc678\uc5d0 \uc720\uc77c\ud55c \uac12\uc744 \ud2b9\uc815\ud558\uae30\uac00 \uc5b4\ub824\uc6e0\ub2e4. \uac15\uc81c\ub85c\ub77c\ub3c4 \uc720\uc77c\ud55c \uac12\uc744 \ub9cc\ub4e4\uc218\ub294 \uc788\uc744 \uac83 \uac19\uc558\ub294\ub370 \uadf8\uac83\uc744 \uc704\ud574 DB \uad6c\uc870\ub97c \ubcc0\uacbd\ud574\uc57c \ud560 \uac83 \uac19\uc544\uc11c \ub9c8\uc74c\uc5d0 \ub4e4\uc9c0 \uc54a\uc558\ub2e4. \uadf8\ub798\uc11c \uc0dd\uac01\ud55c \ubc29\ubc95\uc740 insert \uc774\ud6c4\uc5d0 \uc544\ub798\uc758 query\ub97c \ubc14\ub85c \uc2e4\ud589\ud558\ub294 \uac83\uc774\uc5c8\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:"select last_insert_id();"}),"\n",(0,t.jsx)(s.p,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ucd94\uac00\ub41c id\ub97c \uc54c\ub824\uc900\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"5. Shell script\uc5d0\uc11c text\ub85c \ub41c query \uacb0\uacfc\ub97c parsing \ud574\uc57c \ud558\ub294\uac00?"})}),"\n",(0,t.jsx)(s.p,{children:"\uc704\uc758 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub2c8 \ub2e4\ub978 \ubb38\uc81c\uac00 \ub4f1\uc7a5\ud588\ub2e4. MySQL client\uc5d0\uc11c \uc9c1\uc811 select query\ub97c \uc2e4\ud589\ud558\uba74 \uacb0\uacfc\ub97c mysql\ub9cc\uc758 \ud615\ud0dc\ub85c \ub3cc\ub824\uc900\ub2e4\ub294 \uac83\uc774\uc5c8\ub2e4. Json\uc774\ub098 xml\uacfc \uac19\uc740 \uc815\uaddc\ud654\ub41c \ubb38\uc790\uc5f4\uc774 \uc544\ub2c8\ub77c \ud2b9\uc218\ubb38\uc790\ub85c column\uc758 \uacbd\uacc4\uac00 \uadf8\ub824\uc9c4 \ubb38\uc790\uc5f4\ub4e4. \ucc98\uc74c\uc5d4 \uc774\uac83\uc744 parsing \ud574\uc57c \ud558\ub098 \uc0dd\uac01\ud588\ub294\ub370 \ub9d0\ub3c4 \uc548\ub418\ub294\uac70\ub77c \uc0dd\uac01\ud588\ub2e4. \uc758\ubbf8\ub3c4 \uc5c6\uace0. \uadf8\ub798\uc11c \ucc3e\uc740\uac8c -s\uc640 -N \uc635\uc158\uc778\ub370, -s\ub294 silent\ub97c -N\uc740 column name \ucd9c\ub825\uc744 \ud558\uc9c0 \uc54a\ub294\ub2e4. \uc5b4\ucc28\ud53c \ub9c8\uc9c0\ub9c9\uc5d0 \ucd94\uac00\ub41c id\ub9cc \uc54c\uba74 \ub418\uae30 \ub54c\ubb38\uc5d0 column\uc740 \ub2e8 \ud558\ub098\ubfd0\uc774\uace0 \uc9c4\uc815 \ub0b4\uac00 \uc6d0\ud558\ub294 \uac83\uc740 \uadf8 column\uc758 \uac12\uc77c \ubfd0\uc774\ub2e4. \ub450 \uc635\uc158\uc744 \uc0ac\uc6a9\ud574 query\ub97c \uc2e4\ud589\ud558\uba74 id\ub9cc \ub2ec\ub791 \ub5a8\uc5b4\uc9c4\ub2e4."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"6. \uacb0\uacfc"})}),"\n",(0,t.jsx)(s.p,{children:'mysql -uuser_id -ppassword db_schema -s -N -e "insert_query_with_last_insert_id"'}),"\n",(0,t.jsx)(s.p,{children:"\uc704\uc758 \ud615\ud0dc\ub85c \uc2e4\ud589\ud558\uba74 password\ub97c \ubb3b\uc9c0\ub3c4 \uc54a\uace0 insert\ub97c \ud55c \ud6c4 \ucd94\uac00\ub41c id\ub9cc \ubc1b\uc744 \uc218 \uc788\ub2e4. \ub2e8 \ud55c\uc904\ub9cc\uc73c\ub85c."}),"\n",(0,t.jsx)(s.p,{children:"Password\uac00 \uacf5\uac1c\ub420 \uc5ec\uc9c0\uac00 \uc788\ub294\ub370 insert \ud558\ub824\ub294 \uac12\uc744 parameter\ub85c \ubc1b\ub294 \ubcc4\ub3c4\uc758 script \ud30c\uc77c\ub85c \ub9cc\ub4e4\uc5b4\uc11c \uc77d\uae30\uad8c\ud55c\uc744 \uc81c\uc5b4\ud558\ub294 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud558\ub294\uac8c \uc5b4\ub5a8\uae4c \uc0dd\uac01\ud55c\ub2e4. \uadf8\uac8c \uac04\ub2e8\ud558\ub2c8\uae4c."})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>a});var t=r(96540);const n={},i=t.createContext(n);function l(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);